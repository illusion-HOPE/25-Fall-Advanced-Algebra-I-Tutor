\documentclass[10pt,openany]{article}
\usepackage{ctex} 
\usepackage{geometry,graphicx,xcolor,color}
\geometry{
	a4paper,
	top=25.4mm, bottom=25.4mm,
	left=20mm, right=20mm,
	headheight=2.17cm,
	headsep=4mm,
	footskip=12mm
}
\usepackage{pifont}
\usepackage[all,pdf]{xy}
\usepackage{amssymb,amsmath,mathrsfs}             
\usepackage{mathpazo}
\usepackage[nofontspec]{newpxtext}
\usepackage{array}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{enumerate}
\usepackage{amsthm}
\usepackage{bm}
\usepackage{mathtools}
\usepackage{mathrsfs}
\usepackage{tcolorbox}
\usepackage{indentfirst}
\usepackage{setspace}
\usepackage{subfigure} 
\usepackage{tkz-fct}
\usetikzlibrary{calc,intersections,through,backgrounds,3d}
\usepackage{tkz-euclide}
\usepackage{pgfplots}
\usepackage{booktabs}
\usepackage{float}
\usepackage[graphicx]{realboxes}
\usepackage{fancyhdr}
\usepackage{nicematrix}
\definecolor{winered}{rgb}{0.5,0,0}
\definecolor{structurecolor}{RGB}{122,122,142}
\definecolor{main}{HTML}{3D445F}
\definecolor{second}{HTML}{627581}
\definecolor{third}{HTML}{333333}
\definecolor{deepgreen}{HTML}{2F5E4E}  
\definecolor{purple}{HTML}{512E5F}     

\usepackage{hyperref}
\hypersetup{colorlinks = true, linktoc=all, linkcolor=blue, urlcolor=winered}


\usepackage{amsthm}
% 设定颜色（假设你在别处定义了 \color{main} 等）
\usepackage{xcolor}
\usepackage{etoolbox}
% 定义定理风格
\usepackage{amsthm}
\newtheoremstyle{defstyle}
{0.3cm}{0.3cm}{\fangsong}{-1cm}{\bfseries\color{main}}{}{0.5em}
{\indent 【\thmname{#1} \thmnumber{#2}】\ifthenelse{\equal{#3}{}}{}{~\thmnote{(#3)}}}

\newtheoremstyle{thmstyle}
{0.3cm}{0.3cm}{\kaishu}{-1cm}{\bfseries\color{second}}{}{0.5em}
{\indent 【\thmname{#1} \thmnumber{#2}】\ifthenelse{\equal{#3}{}}{}{~\thmnote{(#3)}}}

\newtheoremstyle{remstyle}
{0.3cm}{0.3cm}{\kaishu}{-1cm}{\bfseries\color{third}}{}{0.5em}
{\indent 【\thmname{#1} \thmnumber{#2}】\ifthenelse{\equal{#3}{}}{}{~\thmnote{(#3)}}}

\newtheoremstyle{exastyle}
{0.3cm}{0.3cm}{\kaishu}{-1cm}{\bfseries\color{deepgreen}}{}{0.5em}
{\indent 【\thmname{#1} \thmnumber{#2}】\ifthenelse{\equal{#3}{}}{}{~\thmnote{(#3)}}}

\newtheoremstyle{prostyle}
{0.3cm}{0.3cm}{\kaishu}{-1cm}{\bfseries\color{purple}}{}{0.5em}
{\indent 【\thmname{#1} \thmnumber{#2}】\ifthenelse{\equal{#3}{}}{}{~\thmnote{(#3)}}}

\theoremstyle{thmstyle} %theorem style
\newtheorem{theorem}{定理}[subsection]
\theoremstyle{defstyle} % definition style
\newtheorem{definition}[theorem]{定义}
\newtheorem{lemma}[theorem]{引理}
\newtheorem{corollary}[theorem]{推论}
\theoremstyle{prostyle} % proposition style
\newtheorem{proposition}[theorem]{命题}
\newtheorem{property}[theorem]{性质}
\theoremstyle{exastyle} 
\newtheorem{example}[theorem]{例}
\AtEndEnvironment{example}{\hfill \( \diamondsuit \)}
\theoremstyle{remstyle} 
\newtheorem{remark}[theorem]{注}

\renewenvironment{proof}[1][证明]{\par\underline{\textbf{#1.}} \;\fangsong}{\qed\par}
\newenvironment{solution}{\par\underline{\textbf{解.}} \;\fangsong}{\qed\par}
\newcommand{\intro}[1]{\rightline{\parbox[t]{5cm}{\footnotesize \fangsong\quad\quad #1 }}}

\AtEndEnvironment{proof}{\vspace{1.5ex}}
\AtEndEnvironment{solution}{\vspace{1.5ex}}

\usepackage{titlesec, titletoc}
\linespread{1.2} 				
\usepackage{fancyhdr}
\fancyhf{}
\renewcommand{\headrule}{\color{structurecolor}\hrule width\textwidth}
\pagestyle{fancy}
\renewcommand{\headrulewidth}{1pt}
\fancypagestyle{plain}{\renewcommand{\headrulewidth}{0pt}\fancyhf{}\renewcommand{\headrule}{}}

\fancyhead[c]{\color{structurecolor}\kaishu\rightmark}
\fancyfoot[c]{\color{structurecolor}\small\thepage}


\titleformat{\section}[frame]{\normalfont\color{structurecolor}}{\footnotesize \enspace \large \textcolor{structurecolor}{\S \,\thesection}\enspace}{6pt}{\Large\filcenter \bf \kaishu }


\titleformat{\subsection}[hang]{\bfseries}{\large\bfseries\color{structurecolor}\thesubsection\enspace}{1pt}{\color{structurecolor}\large\bfseries\filright}

\titleformat{\subsubsection}[hang]{\bfseries}{\large\bfseries\color{structurecolor}\thesubsubsection\enspace}{1pt}{\color{structurecolor}\large\bfseries\filright}

\usepackage{titling}
\renewcommand*{\maketitle}{
	\begin{titlepage}
		\newgeometry{margin = 0in}
		\parindent=0pt
		\includegraphics[width=\linewidth]{cover.png}
		\vfill
		\begin{center}
			\parbox{0.618\textwidth}{
				\hfill {\bfseries \Huge \thetitle} \\[0.6pt]  
				\rule{0.618\textwidth}{4pt} \\ 
			}
		\end{center}
		\vfill
		\begin{center}
			\parbox{0.618\textwidth}{
				\hfill\Large
				\kaishu 
				\begin{tabular}{r|}
					\textbf{2025 Summer} \\
					作者：\theauthor \\ 
					时间：\thedate \\
				\end{tabular}
			}
		\end{center}
		\vfill
		\begin{center}
			\parbox[t]{0.7\textwidth}{\centering \kaishu}
		\end{center}
		\vfill
	\end{titlepage}
	\restoregeometry
	\thispagestyle{empty}
}
\newcommand{\T}{^{\text{T}}}
\newcommand{\Her}{^{\text{H}}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\n}{^{n \times n}}
\newcommand{\mn}{^{m \times n}}
\newcommand{\nm}{^{n \times m}}
\newcommand{\tz}{\mathrm{char} \;}
\newcommand{\tr}{\mathrm{tr}}
\newcommand{\diag}{\mathrm{diag}}
\newcommand{\oneb}{\underline{\hspace{1em}}\hspace{0.001em}}
\newcommand{\twob}{\oneb\oneb}
\newcommand{\fourb}{\twob\twob}
\newcommand{\tenb}{\twob\twob\twob\twob\twob}
\newcommand{\tideparallel}{%  
	\mathrel{%  
		\begin{tikzpicture}[scale=0.2, baseline={([yshift=-0.5ex]current bounding box.center)}]  
			\draw[thin] (0,0) -- (1,1.5);  
			\draw[thin] (0.5,0) -- (1.5,1.5);  
		\end{tikzpicture}%  
	}%  
}  
\newcommand{\fourch}[4]
{\\[3pt]
	\begin{tabular}
		{*{4}{@{}p{4cm}}}
		A.~#1 & B.~#2 & C.~#3 & D.~#4
	\end{tabular}	
}
\newcommand{\fourchh}[4]
{\\[5pt]
	\begin{tabular}
		{*{4}{@{}p{20cm}}}
		A.~#1 \\[5pt] B.~#2 \\[5pt] C.~#3 \\[5pt] D.~#4
	\end{tabular}	
}
\newcommand{\fourchhh}[4]
{\\[3pt]
	\begin{tabular}
		{*{4}{@{}p{7.5cm}}}
		A.~#1 & B.~#2 \\[2pt] C.~#3 & D.~#4
	\end{tabular}	
}
\newcommand{\independent}{\perp\!\!\!\perp}
\everymath{\displaystyle}
\allowdisplaybreaks




\begin{document}

\pagestyle{fancy}
\lhead{Lecture 1}
\chead{illusion \& FzRainD}
\rhead{\today}

\section{Guass-Jordan 消元法和矩阵运算}
\subsection{初等变换和 Guass-Jordan 消元法}
\label{1.1}
代数学起源于数系的扩充，方程的求解. 而在今天，代数学的主要研究对象集中在代数系统及其之间的态射上. 在高等代数 I 的后半部分，我们将集中研究一类最简单的代数系统及其态射，线性空间和线性映射，更确切地说，我们大多时候只关注有限维线性空间. 无限维线性空间理论会在泛函分析课程进一步讨论.

对方程而言，我们不仅希望找到是否有解的判定准则，更希望能找到一套普适的算法在方程有解时计算出所有解. 高等代数的一个重要组成部分是线性代数. 所谓"线性"，指的是加法和数乘两个运算. 往一般了说，加法指的是一个集合关于该运算构成 Abel 群，而数乘，则可以看成是某个交换环在这个 Abel 群上的作用，并且需要满足运算间的若干协调性. 不过，我们现在不关心这些. 我们的起点不过就是高中所学的平面 \( \mathbb{R}^2:=\{(a,b) \mid a,b \in \mathbb{R} \} \)，以及空间 \( \mathbb{R}^3:=\{ (a,b,c) \mid a,b,c \in \mathbb{R} \} \)，乃至这一概念的自然推广: \( n \) 维向量空间
\[ \mathbb{R}^n:=\{ (x_1,x_2,\cdots,x_n) \mid x_1,\cdots,x_n \in \mathbb{R} \}. \]

这里的线性运算指的是
\begin{enumerate}[(1)]
	\item 向量的加法: \( (x_1,\cdots,x_n)+(y_1,\cdots,y_n)=(x_1+y_1,\cdots,x_n+y_n) \);
	\item \( \mathbb{R} \) 中的数与向量的数乘: \( k(x_1,\cdots,x_n)=(kx_1,\cdots,kx_n), \; k \in \mathbb{R} \).
\end{enumerate} 

在线性运算下，线性方程组为我们重要的一个研究对象. 设 \( x_1,\cdots,x_n \) 为 \( n \) 个未定元，给出 \( m \) 个关于 \( x_1,\cdots,x_n \) 的线性方程，并联立，即
\begin{equation}
	\left\{\begin{array}{l}
		a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n=b_1, \\
		a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n=b_1, \\
		\qquad \vdots \\
		a_{m1}x_1+a_{m2}x_2+\cdots+a_{mn}x_n=b_m.
	\end{array}\right.
	\label{linequ.}
\end{equation}


其中 \( a_{ij}, b_i \in \mathbb{R} \ (1 \leq i \leq m,\; 1 \leq j \leq n) \). 对 \( m,n \) 的大小关系，我们并不关心，只要求它们均有限即可. 我们在中学阶段已经学习过 \( n=m=2 \) 以及 \( n=m=3 \) 这两种特殊情形的线性方程组. 所用的方法无非是代入法和加减消元法. 但这两种方法对 \( n \) 个变量的情形就有些困难了，因为很多时候，加减无法实现消元的效果; 而代入法对求解的难度也几乎于事无补. 为了更自然的引出下面有关求解线性方程组的 Guass-Jordan 消元法，我们从几个例子开始.

\begin{example}\label{1.1.1}
	求解线性方程组
	\[
	(\text{I}) \left\{
	\begin{array}{l}
		x_1 + 3x_2 + x_3 = 2, \\
		3x_1 + 4x_2 + 2x_3 = 9, \\
		-x_1 - 5x_2 + 4x_3 = 10, \\
		2x_1 + 7x_2 + x_3 = 1.
	\end{array}
	\right.
	\]
	
\end{example}

\begin{solution}
	这是一个 \( m=4, \; n=3 \) 的方程组. 为了求出未知数的值，我们发现如果能设法消去 \( x_1,x_2 \)，那么最后只剩下 \( x_3=? \) 的形式，再回代方程，得到关于 \( x_1,x_2 \) 的方程组，相同的方法可以依次解出 \( x_2,x_1 \). 我们用 \( (i) \) 表示这个方程的第 \( i \) 行. 现在我们希望用 \( (1) \) 消去 \( (2),(3),(4) \) 中所有的 \( x_1 \) 项. 你可能会疑惑，为什么要用 \( (1) \)，而不是 \( (2) \) 或者其他行. 观察到此时 \( (1) \) 中 \( x_1 \) 的系数为 \( 1 \)，如果我们将 \( (1) \times (-a_{i1}) \) 加到第 \( i \) 行上，那就可以把第 \( i \) 行中的 \( x_1 \) 消去了. 如果使用 \( (2) \) 完成这个步骤，那就会涉及除法，增加我们的计算量，可行但没有用 \( (1) \) 来的方便. 
	
	今后我们用 \( (j)+(i) \times k \) 表示用第 \( i \) 个方程的 \( k \) 倍加到第 \( j \) 行上. 那么我们得到
	\[ (\text{I}) \left\{
	\begin{array}{l}
		x_1 + 3x_2 + x_3 = 2, \\
		3x_1 + 4x_2 + 2x_3 = 9, \\
		-x_1 - 5x_2 + 4x_3 = 10, \\
		2x_1 + 7x_2 + x_3 = 1.
	\end{array}
	\right. \leadsto (\text{II}) \left\{
	\begin{array}{l}
		x_1 + 3x_2 + x_3 = 2, \\
		-5x_2 - x_3 = 3, \qquad (2)+(1) \times (-3) \\
		-2x_2 + 5x_3 = 12, \qquad (3)+(1) \times 1 \\
		x_2 - x_3 = -3.\qquad (4)+(1) \times (-2)
	\end{array}
	\right.\]
	
	这完美实现了第一步消元，但是有一个问题. 方程 (II) 的解是方程 (I) 的解吗? 我们知道如果 \( (x_1,x_2,x_3) \) 适合方程 (I)，那么其必定适合方程 (II). 反之，成立吗? 实行操作 \( (2)-(1) \times (-3), \; (3)-(1) \times 1, \; (4)-(1) \times (-2) \)，我们就能将方程 (II) 转化为方程 (I). 这事实上回答了我们的问题，因为这说明如果 \( (x_1,x_2,x_3) \) 适合方程 (II)，那么其必定适合方程 (I). 也即
	
	\begin{center}
		\fbox{方程 (I) 和方程 (II) 是同解的方程组!}
	\end{center}
	
	下面我们就可以放心地求解方程 (II). 这时，如果还希望进行我们刚才类似的消元操作，那么方程 (II) 的 \( (2) \) 这个方程不太好，\( x_2 \) 的系数为 \( -5 \). 但是我们发现 \( (4) \) 中  \( x_2 \) 前面的系数为 \( 1 \). 于是打算将第 2 行与第 4 行互换，这个操作简单记作 \( [(2),(4)] \).
	
	\[ (\text{II}) \left\{
	\begin{array}{l}
		x_1 + 3x_2 + x_3 = 2, \\
		-5x_2 - x_3 = 3, \\
		-2x_2 + 5x_3 = 12, \\
		x_2 - x_3 = -3.
	\end{array}
	\right. \overset{[(2),(4)]}{\leadsto} (\text{III}) \left\{
	\begin{array}{l}
		x_1 + 3x_2 + x_3 = 2, \\
		x_2 - x_3 = -3, \\
		-2x_2 + 5x_3 = 12, \\
		-5x_2 - x_3 = 3.
	\end{array}
	\right. \]
	
	这时候方程 (II) 与方程 (III) 同解就是显然的了. 接下来，类似刚才的操作有
	
	 \begin{align*}
		(\text{III}) \left\{
		\begin{array}{l}
			x_1 + 3x_2 + x_3 = 2, \\
			x_2 - x_3 = -3, \\
			-2x_2 + 5x_3 = 12, \\
			-5x_2 - x_3 = 3.
		\end{array}
		\right. &\leadsto (\text{IV}) \left\{
		\begin{array}{l}
			x_1 + 3x_2 + x_3 = 2, \\
			x_2 - x_3 = -3\\
			3x_3 = 6 , \qquad (3)+(2) \times 2 \\
			-6x_3 = -12. \qquad (4)+(2) \times 5
		\end{array}
		\right. \\
		&\leadsto (\text{V}) \left\{
		\begin{array}{l}
			x_1 + 3x_2 + x_3 = 2, \\
			x_2 - x_3 = -3, \\
			3x_3 = 6, \\
			0 = 0. \qquad (4)+(3) \times 2
		\end{array}
		\right.
	\end{align*}  
	
	
	为了得到 \( x_3 \) 的具体数值，将方程 (V) 中的 \( (3) \) 变为原来的 \( 1/3 \) 倍，记作 \( (3) \times (1/3) \). 那么
	
	 \begin{align*}
		 (\text{V}) \left\{
		\begin{array}{l}
			x_1 + 3x_2 + x_3 = 2, \\
			x_2 - x_3 = -3, \\
			3x_3 = 6, \\
			0 = 0. 
		\end{array}
		\right. &\leadsto (\text{VI}) \left\{
		\begin{array}{l}
			x_1 + 3x_2 + x_3 = 2, \\
			x_2 - x_3 = -3, \\
			x_3 = 2, \qquad (3) \times (1/3) \\
			0 = 0.
		\end{array}
		\right.\\
		&\leadsto (\text{VII}) \left\{
		\begin{array}{l}
			x_1 + 3x_2 = 0, \qquad (1)+(3) \times (-1) \\
			x_2 = -1, \qquad (2)+(3) \times 1\\
			x_3 = 2, \\
			0 = 0.
		\end{array}
		\right.\\
		&\leadsto (\text{VIII}) \left\{
		\begin{array}{l}
			x_1 = 3, \qquad (1)+(2) \times (-3) \\
			x_2 = -1, \\
			x_3 = 2, \\
			0 = 0.
		\end{array}
		\right.
	\end{align*}  
	
	其中方程 (V) 和方程 (VI) 是同解方程，这一点是不言自明的. 于是我们得到原方程有唯一解 \( (x_1,x_2,x_3)=(3,-1,2) \).
	
	(\textbf{另一种操作}) 在上面的计算中，我们先从上到下处理方程，使得最后一个方程只剩下 \( x_3 \) 一个变量，然后再回代到前面的方程中. 我们也可以在消去 \( x_2 \) 和 \( x_3 \) 这两个变量的过程中，兼顾前面的方程，一步到位. 回到方程 (III)，
	
	\begin{align*}
		(\text{III}) \left\{
		\begin{array}{l}
			x_1 + 3x_2 + x_3 = 2, \\
			x_2 - x_3 = -3, \\
			-2x_2 + 5x_3 = 12, \\
			-5x_2 - x_3 = 3.
		\end{array}
		\right. &\leadsto  \left\{
		\begin{array}{l}
			x_1 + 4x_3 = 11, \qquad (1)+(2) \times (-3)\\
			x_2 - x_3 = -3, \\
			3x_3 = 6, \qquad (3)+(2) \times 2 \\
			-6x_3 = -12. \qquad (4)+(2) \times 5 
		\end{array}
		\right. \\
		&\leadsto  \left\{
		\begin{array}{l}
			x_1 + 4x_3 = 11, \\
			x_2 - x_3 = -3, \\
			x_3 = 2, \qquad (3) \times (1/3) \\
			-6x_3 = -12. 
		\end{array}
		\right. \\
		&\leadsto  \left\{
		\begin{array}{l}
			x_1  = 3, \qquad (1)+(3) \times (-4)\\
			x_2  = -1, \qquad (2)+(3) \times 1 \\
			x_3 = 2,  \\
			0=0. \qquad (4)+(3) \times 2 
		\end{array}
		\right. \\
	\end{align*}
	
	这样也能得到 \( (x_1,x_2,x_3)=(3,-1,2) \) 为原方程的唯一解.
\end{solution}

在例 \ref{1.1.1} 的处理中，我们发现解方程的过程中 \( x_1,x_2,x_3 \) 这三个未知量并不被我们关心，我们操作的不过是它们的系数. 于是我们称下面的 \( m \times n \) 矩阵 \( A \) 为线性方程组 (\ref{linequ.}) 的系数矩阵.
\[ A=\begin{bmatrix}
	a_{11} & a_{12} & \cdots & a_{1n} \\
	a_{21} & a_{22} & \cdots & a_{2n} \\
	\vdots & \vdots & \ddots & \vdots \\
	a_{m1} & a_{m2} & \cdots & a_{mn}
\end{bmatrix}. \]

而 \( m \times (n+1) \) 矩阵 \( \overline{A} \) 称为线性方程组 (\ref{linequ.}) 的增广矩阵.
\[ \overline{A}=\begin{bmatrix}
	a_{11} & a_{12} & \cdots & a_{1n} & b_1 \\
	a_{21} & a_{22} & \cdots & a_{2n} & b_2 \\
	\vdots & \vdots & \ddots & \vdots & \vdots \\
	a_{m1} & a_{m2} & \cdots & a_{mn} & b_m
\end{bmatrix} \]

也就说明解线性方程组时，只需要写出 \( \overline{A} \)，然后按上述操作求解即可. 除此之外，在解方程中，我们对上述增广矩阵的行使用了三种变换来化简方程，达到消元效果. 我们称这三种变换为线性方程组的初等行变换. 

\begin{definition}[初等行变换]\label{1.1.2}
	称下面的三种变换为线性方程组 (\ref{linequ.}) 或者矩阵 \( A \) 或者矩阵 \( \overline{A} \) 的初等行变换:
	\begin{enumerate}[(A)]
		\item 消法变换：对 \( 1 \leq i \neq j \leq m \)，\( c \in \mathbb{R} \). 将第 \( i \) 行的 \( c \) 倍加到第 \( j \) 行;
		\item 倍法变换：设 \( 1 \leq i \leq m \)，且 \( 0 \neq c \in \mathbb{R} \)，将第 \( i \) 行的每个元素都乘 \( c \);
		\item 互换变换：设 \( 1 \leq i \neq j \leq m \)，将第 \( i \) 行和第 \( j \) 行的元素互换.
	\end{enumerate}
	
\end{definition}

对矩阵而言，我们可以类似定义初等列变换. 初等行变换和初等列变换统称为矩阵的初等变换. 在后面的学习中，你会看到初等变换将成为贯穿高等代数最重要的一类方法. 从例 \ref{1.1.1} 的讨论中，你不难发现如下结果：

\begin{theorem}	\label{1.1.3}
	矩阵的初等行变换给出同解的线性方程组.

\end{theorem}

\begin{proof}
	只需要注意到三种初等行变换都有对应的逆操作即可. 
\end{proof}



定理 \ref{1.1.3} 和初等行变换就是 Guass-Jordan 消元法的核心. 在介绍 Guass-Jordan 消元法之前，不妨再看一个例子. 在例 \ref{1.1.1} 中，我们发现方程的解不仅是存在的，还是唯一的. 但这并不普遍成立.

\begin{example}\label{1.1.4}
	令 \( a,b,c \) 为给定的常数，解线性方程组
	\begin{align*}
		\left\{ \begin{array}{l}
			x_1-x_2+x_3=a, \\
			x_1-x_2-x_3=b, \\
			2x_1-2x_2-x_3=c.
		\end{array}\right.
	\end{align*}
	
\end{example}


\begin{solution}
	考虑线性方程组的增广矩阵，并作初等行变换
	\begin{align*}
		\overline{A}=\begin{bmatrix}
			1 & -1 & 1 & a \\
			1 & -1 & -1 & b \\
			2 & -2 & -1 & c  
		\end{bmatrix} &\leadsto \begin{bmatrix}
		1 & -1 & 1 & a \\
		0 & 0 & -2 & b-a \\
		0 & 0 & -3 & c-2a  
		\end{bmatrix} \\
		&\leadsto \begin{bmatrix}
			1 & -1 & 1 & a \\
			0 & 0 & 1 & (a-b)/2 \\
			0 & 0 & -3 & c-2a  
		\end{bmatrix} \\
		&\leadsto \begin{bNiceMatrix}
			1 & -1 & 1 & a \\
			0 &  0 & 1 & (a-b)/2 \\
			0 &  0 & 0 & (-a - 3b + 2c)/2
			\CodeAfter
			\tikz \draw[black, dashed]
			(2-|1)++(3pt,0) -|(3-|3)-|(4-|4)--($(4-|5)+(-10pt,0)$); 
		\end{bNiceMatrix}\\
		&\leadsto \begin{bNiceMatrix}
		1 & -1 & 0 & (a+b)/2 \\
		0 & 0 & 1 & (a-b)/2 \\
		0 & 0 & 0 & (-a-3b+2c)/2  
		\CodeAfter
		\tikz \draw[black, dashed]
		(2-|1)++(3pt,0) -|(3-|3)-|(4-|4)--($(4-|5)+(-10pt,0)$); 
		\end{bNiceMatrix}
	\end{align*}
	
	这也对应到同解方程组
	\[ \left\{ \begin{array}{l}
		x_1=x_2+(a+b)/2, \\
		x_3=(a-b)/2, \\
		0=(-a-3b+2c)/2.
	\end{array}\right. \]
	
	下面对解的情况分类讨论:
	\begin{enumerate}[(A)]
		\item 当 \( -a-3b+2c \neq 0 \) 时，\( 0=(-a-3b+2c)/2 \) 不成立，原方程无解;
		\item 当 \( -a-3b+2c = 0 \) 时，原方程的解为
		\[ \begin{bmatrix}
			x_1 \\ x_2 \\ x_3
		\end{bmatrix}=\begin{bmatrix}
		 \frac{a+b}{2} \\[1.5ex] 0 \\[1ex] \frac{a-b}{2}
		\end{bmatrix}+x_2\begin{bmatrix}
		1 \\ 1 \\ 0
		\end{bmatrix}. \]
		
		其中 \( x_2 \) 为自由未知量，不受约束，可以任取. 不妨 \( x_2 \in \mathbb{R} \)(这里我们前面所有的讨论事实上都可以放到一般的数域上)，用几何的语言来描述，那么这个方程组的解就是在 \( \mathbb{R}^3 \) 中平面 \( x_3=(a-b)/2 \) 上，过点 \( ((a+b)/2,0,(a-b)/2) \)，方向向量为 \( \bm{u}=(1,1,0) \) 的一条直线，自由度为 1. 随着后续理论的展开，在高等代数中更严谨的说法为：这个线性方程组解空间的维数 \( \dim V_A=1=3-r(A) \).
	\end{enumerate}
\end{solution}

结合上面的例 \ref{1.1.1} 以及例 \ref{1.1.4}，我们知道，求解线性方程组的主要工具是初等行变换，主要目标是把增广矩阵变为类似如下形式的行阶梯形矩阵：

\[ \begin{pNiceMatrix}[right-margin=2pt,left-margin=2pt,color-inside]
 \rowcolor{red!15}* & * & * & * & \cdots & * \\
&  \rowcolor{red!15}* & * & * & \cdots & * \\
& & &  \rowcolor{red!15}* & \cdots & * \\
& & & &  \rowcolor{red!15}\ddots & \vdots \\
& & & & &  \rowcolor{red!15}\vdots
\CodeAfter
\tikz \draw[black, dashed]
(2-|1)++(3pt,0) -|(3-|2)-|(4-|4)-|(5-|5)--(5-|6)--(6-|6)--($(6-|7)+(-7pt,0)$); 
\end{pNiceMatrix} \]

上图中空白元均为 0，更严格的定义如下：

\begin{definition}[行阶梯形矩阵]\label{1.1.5}
	设 \( m \times n \) 阶矩阵 \( A \) 可以经过若干次行初等变换变为 \( K \)，且 \( K \) 满足
	\begin{enumerate}[(i)]
		\item 存在整数 \( 0 \leq r \leq m \) 使得 \( K \) 的第 \( i \) 行全为 0 当且仅当 \( i>r \)，即在矩阵 \( K \) 中，不全为零的恰好是第 \( 1 \sim r \) 行;
		\item 对每个 \( 1 \leq k \leq r \)，取 \( j_k:=\min\{ j: a_{kj} \neq 0 \} \)，那么必定有 \( j_1<j_2<\cdots<j_r \). 也即非零行首个非零元的列指标严格递增. 此时称 \( a_{k,j_k} \) 为主元.
	\end{enumerate}
	
	那么称矩阵 \( K \) 为行阶梯形矩阵.

\end{definition}

行阶梯形矩阵对应的线性方程组已经易于求解，但是在例 \ref{1.1.1} 以及例 \ref{1.1.4} 中，我们发现还可以对行阶梯形矩阵进一步进行初等行变换，得到如下定义的简化行阶梯形矩阵. 而我们可以直接从简化行阶梯形矩阵中读出矩阵的解，而不用更多多余的操作.

\begin{proposition}
	设 \( m \times n \) 阶矩阵 \( A \) 可以经过若干次行初等变换变为 \( K \)，且 \( K \) 为如同定义 \ref{1.1.5} 所定义的行阶梯形矩阵. 那么 \( K \) 的非零行数目 \( r \leq \min\{n,m\} \).
\end{proposition}

\begin{proof}
	只需考虑 \( m \geq n \) 的情形. 若 \( r>\min\{n,m\}=n \). 那么第 \( 1 \sim r \) 行都存在主元 \( a_{k,j_k} \) 且满足 \( j_1<\cdots<j_r \) 成立. 注意到 \( 1 \leq j_1<\cdots<j_r \leq n \) 且 \( j_k \in \mathbb{N}^* \)，但 \( |[1,n] \cap \mathbb{N}^*|=n<r \) 矛盾.
\end{proof}

\begin{definition}[简化行阶梯形矩阵]
	设 \( m \times n \) 阶矩阵 \( A \) 可以经过若干次行初等变换变为 \( K \)，且 \( K \) 为如同定义 \ref{1.1.5} 所定义的行阶梯形矩阵. 若 \( K \) 额外满足
	\begin{enumerate}[(i)]
		\item 对每个 \( 1 \leq k \leq r \) 都有 \( a_{k,j_k}=1 \)，也即主元均为 1;
		\item \( i<k \) 蕴含 \( a_{i,j_k}=0 \). 即主元所在的列除它自身外全为 0.
	\end{enumerate}
	
	那么称矩阵 \( K \) 为简化行阶梯形矩阵.
\end{definition}

有了简化行阶梯形矩阵的概念，我们自然引出本节的主要算法: Guass-Jordan 消元法. 这一算法是对例 \ref{1.1.1} 以及例 \ref{1.1.4} 方法的一般化.

\begin{theorem}[Guass-Jordan, 线性方程组求解的算法]	\label{1.1.8}
	给定 \( m \times n \) 阶矩阵 \( A \)，那么 \( A \) 必定可以通过初等行变换化为简化行阶梯形矩阵.

\end{theorem}


\begin{proof}
	设矩阵 \( A \) 非零. 如果矩阵 \( A \) 的第一列全为 0，也即
	\[ A=\begin{bmatrix}
		0 & a_{12} & \cdots & a_{1n} \\
		0 & a_{22} & \cdots & a_{2n} \\
		\vdots & \vdots & \ddots & \vdots \\
		0 & a_{m2} & \cdots & a_{mn}
	\end{bmatrix}. \]
	
	那么第一列可以直接忽略不计，因为在后续的初等行变换中，不会对第一列产生任何影响. 现在考虑第一列存在非零元的情形，不妨设 \( a_{11} \neq 0 \)，否则可以将第一行和第一列非零的行互换. 接下来将第一行分别乘 \( -a_{i1}/a_{11} \) 并加到第 \( 2 \sim m \) 行，得到如下形式的矩阵
	\[ A=\begin{bmatrix}
		a_{11} & a_{12} & \cdots & a_{1n} \\
		0 & b_{22} & \cdots & b_{2n} \\
		\vdots & \vdots & \ddots & \vdots \\
		0 & b_{m2} & \cdots & b_{mn}
	\end{bmatrix}. \] 
	
	那么 \( a_{11} \) 为主元，现在考虑子矩阵
	\[ B=\begin{bmatrix}
		 b_{22} & \cdots & b_{2n} \\
		 \vdots & \ddots & \vdots \\
		 b_{m2} & \cdots & b_{mn}
	\end{bmatrix}. \]
	
	那么 \( B \) 或者处处为 0，或者通过上面的操作能得到新的主元，且主元所在列指标严格递增，并继续考虑子矩阵. 由于矩阵的阶是有限的，那么该算法必然在有限步内停止. 得到行阶梯形矩阵，且对每个主元 \( a_{k,j_k} \)，都有 \( a_{kj}=0 \) 对 \( j_k<j \leq m  \) 成立. 设此时非零行数目为 \(  r \leq \min\{ n,m \} \). 那么对每个 \( 1 \leq k \leq r \)，对第 \( k \) 行依次执行
	\begin{enumerate}[(A)]
		\item 倍法变换: 第 \( k \) 行所有元素乘以 \( 1/a_{k,j_k} \)，使得主元全为 1;
		\item 消法变换：对 \( k>1 \)，将第 \( k \) 行分别乘以 \( -a_{i,j_k}/a_{k,j_k} \) 加到第 \( i \) 行，其中 \( 1 \leq i \leq k-1 \).
	\end{enumerate}
	
	从而得到简化行阶梯形矩阵.
\end{proof}



在例 \ref{1.1.1} 我们在解方程的过程中，既可以先得到行阶梯形矩阵，进而得到简化行阶梯形矩阵，也可以一步到位直接得到简化行阶梯形矩阵. 并且两者的结果是相同的. 自然疑惑，如果给定矩阵 \( A \in \mathbb{R}^{m \times n} \)，对 \( A \) 经过两种不同的初等行变换得到 \( K_1, K_2 \) 均为简化行阶梯形矩阵，那么是否有 \( K_1 = K_2 \)? 如果此处只要求 \( K_1, K_2 \) 为行阶梯形矩阵，那么答案自然是否定的，因为可以进行任意次数的倍法变换，不会改变行阶梯形矩阵的形状. 

\begin{theorem}	\label{1.1.9}
	给定矩阵 \( A \in \mathbb{R}^{m \times n} \)，对 \( A \) 经过两种不同的初等行变换得到 \( K_1, K_2 \) 均为简化行阶梯形矩阵，那么必定有 \( K_1=K_2 \). 换言之，\( A \) 的简化行阶梯形矩阵必定唯一. 

\end{theorem}

\begin{proof}
	由于初等行变换都有对应逆过程，故 \( K_1 \) 可经过若干次初等行变换变为 \( K_2 \). 现在从左到右对比 \( K_1 \) 和 \( K_2 \) 的每一列，记第一个不同的列为第 \( j \) 列. 现在删去第 \( j \) 列前不含主元的所有列，以及第 \( j \) 列之后的所有列，得到的矩阵记为 \( K_1' \) 和 \( K_2' \). 由于只进行初等行变换，故 \( K_1' \) 也可以经过初等行变换变为 \( K_2' \).
	
	(\textbf{Step I}) 断言第 \( j \) 列不可能出现主元. 否则，若 \( K_1 \) 和 \( K_2 \) 的第 \( j \) 列均出现主元，那么这两列必定相等，因为这是第一个不同的列，说明这两个主元位于同一行. 若 \( K_1 \) 和 \( K_2 \) 其中之一第 \( j \) 列出现主元，不妨设 \( K_1 \) 的第 \( j \) 列出现主元. 若 \( K_1' \) 和 \( K_2' \) 均只有一列，说明 \( K_1 \) 和 \( K_2 \) 在第 \( j \) 列前都未出现过主元，全为零列. 由于此时 \( K_1' \) 和 \( K_2' \) 的第 \( j \) 列不同，那么只能
	\[ K_1'= \begin{bmatrix}
		1 \\ 0 \\ \vdots \\ 0
	\end{bmatrix}, \; K_2'= \bm{0}. \]
	
	但这时 \( K_1' \) 不可能通过行初等变换变为零向量. 只能 \( K_1' \) 和 \( K_2' \) 均至少两列，那么
	\[ K_1'= \begin{bmatrix}
		1 & 0 & 0  & \cdots & 0 \\
		0 & 1 & 0 & \cdots & 0 \\
		0 & 0 & \ddots & \ddots & \vdots \\
		0 & 0 & \cdots & 1 & 0 \\
		0 & 0 & 0 & \cdots & 1 \\
		 &  &  &  & 
	\end{bmatrix}, \; K_2'=\begin{bmatrix}
	1 & 0 & 0  & \cdots & * \\
	0 & 1 & 0   & \cdots & * \\
	0 & 0 & \ddots & \ddots & \vdots \\
	0 &  \cdots & 1  & 0 & * \\
	0 & 0  & \cdots & 1 & * \\
	 &  &  &  &   
	\end{bmatrix}.  \]
	
	下方空白省略零行. 将 \( K_1' \) 和 \( K_2' \) 视作两个线性方程组 (I) 和 (II) 的增广矩阵. 由于 \( K_1' \) 也可以经过初等行变换变为 \( K_2' \)，故线性方程组 (I) 和 (II) 同解，但线性方程组 (I) 的最后一行为 \( 1=0 \)，意味着其无解，但线性方程组 (II) 有解，矛盾.
	
	(\textbf{Step II}) 由于第 \( j \) 列不含主元，那么
	\[ K_1'= \begin{bmatrix}
		1 & 0 & 0  & \cdots & a_1 \\
		0 & 1 & 0   & \cdots & a_2 \\
		0 & 0 & \ddots & \ddots & \vdots  \\
		0 &  \cdots & 1  & 0 & a_{s-1} \\
		0 & 0  & \cdots & 1 & a_s \\
		&  &  &  &   
	\end{bmatrix}, \; K_2'=\begin{bmatrix}
		1 & 0 & 0  & \cdots & b_1 \\
		0 & 1 & 0   & \cdots & b_2 \\
		0 & 0 & \ddots & \ddots & \vdots  \\
		0 &  \cdots & 1  & 0 & b_{s-1} \\
		0 & 0  & \cdots & 1 & b_s \\
		&  &  &  &   
	\end{bmatrix}. \]
	
	下方空白省略零行. 将 \( K_1' \) 和 \( K_2' \) 视作两个线性方程组 (I) 和 (II) 的增广矩阵. 由于 \( K_1' \) 也可以经过初等行变换变为 \( K_2' \)，故线性方程组 (I) 和 (II) 同解，那么必定有 \( a_i=b_i \ (1 \leq i \leq s) \). 这与 \( K_1 \) 和 \( K_2 \) 的第 \( j \) 列不同矛盾.
	
	故 \( K_1=K_2 \).
\end{proof}

\begin{corollary}
	设 \( m \times n \) 阶矩阵 \( A \) 可以经过若干次行初等变换变为 \( K \)，且 \( K \) 为如同定义 \ref{1.1.5} 所定义的行阶梯形矩阵. 那么 \( K \) 的非零行数目 \( r \) 是唯一的. 定义 \( r=:r(A) \) 为矩阵 \( A \) 的秩 (Rank). 
\end{corollary}

\begin{proof}
	否则，若 \( A \) 存在两个非零行数目不同的行阶梯形矩阵，可以通过定理 \ref{1.1.8} 的 Guass-Jordan 消元法得到两个不同的简化行阶梯形矩阵，由定理 \ref{1.1.9} 导出矛盾.
\end{proof}

\begin{remark}
	事实上，\( r(A) \) 为初等变换下的不变量. 在行和列初等变换下均不变. 在 \S 3 中会用子式的定义证明.
\end{remark}

\begin{theorem}[线性方程组有解的判定]	\label{1.1.12}
	给定线性方程组如同方程 (\ref{linequ.})，那么方程 (\ref{linequ.}) 有解当且仅当 \( r(A)=r(\overline{A}) \).

\end{theorem}

\begin{proof}
	由定理 \ref{1.1.8} 的 Guass-Jordan 消元法，\( \overline{A} \) 可以通过行初等变换变为简化行阶梯形矩阵 \( \overline{K} \). 那么 \( \overline{K} \) 的最后一列必定不可能出现主元，否则导出 \( 0=1 \)，无解. 取 \( \overline{A} \) 和 \( \overline{K} \) 的前 \( n \) 列组成的矩阵 \( A \) 和 \( K \). 那么 \( A \) 可以通过行初等变换变为 \( K \). 此时 \( K \) 和 \( \overline{K} \) 有相同的非零行数目，得证.
\end{proof}

\begin{theorem}[线性方程组解的结构]	\label{1.1.13}
	给定线性方程组如同方程 (\ref{linequ.})，且 \( r(A)=r(\overline{A})=r \)，那么存在 \( n-r(A)=:k \) 个自由未知量 \( c_1,\cdots,c_{k} \in \mathbb{R} \) 以及 \( n \) 维列向量 \( \gamma,\eta_1,\cdots,\eta_k \in \mathbb{R}^n \)，使得方程 (\ref{linequ.}) 解的全体可以表示为
	\[ X=\gamma+c_1\eta_1+\cdots+c_k\eta_k. \] 
    
    其中要求 \( \gamma \) 为方程 (\ref{linequ.}) 的一个特解，而 \( \eta_1,\cdots,\eta_k \) 为方程
    	\begin{equation}
    		\left\{\begin{array}{l}
    			a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n=0, \\
    			a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n=0, \\
    			\qquad \vdots \\
    			a_{m1}x_1+a_{m2}x_2+\cdots+a_{mn}x_n=0.
    		\end{array}\right.
    		\label{linequ.2}
    	\end{equation}
    	
    的若干不同解.
\end{theorem}

\begin{proof}
	由定理 \ref{1.1.8} 的 Guass-Jordan 消元法，\( \overline{A} \) 可以通过行初等变换变为简化行阶梯形矩阵 \( \overline{K} \). 记 \( \overline{K} \) 前 \( n \) 列的 \( (i,j) \) 元为 \( p_{ij} \)，最后一列的第 \( i \) 行元为 \( q_i \). 为了方便记，不妨设 \( \overline{K} \) 主元所在列为 \( 1 \sim r \) 列. 那么同解方程组为
	\[ \left\{ \begin{array}{l}
		x_1= q_1-p_{1,r+1}x_{r+1}-\cdots-p_{1,n}x_n, \\
		x_2= q_2-p_{2,r+1}x_{r+1}-\cdots-p_{2,n}x_n, \\
		\qquad \vdots \\
		x_r= q_r-p_{r,r+1}x_{r+1}-\cdots-p_{r,n}x_n. 
	\end{array}\right. \]
	
	于是记
	\[ \gamma=\begin{bmatrix}
		q_1 \\ q_2 \\ \vdots \\ q_r \\ 0  \\ \vdots \\ 0
	\end{bmatrix},\; \eta_1=\begin{bmatrix}
	p_{1,r+1} \\ p_{2,r+1} \\ \vdots \\ p_{r,r+1} \\ 1 \\ \vdots \\ 0
	\end{bmatrix}, \; \cdots, \; \eta_k=\begin{bmatrix}
	p_{1,n} \\ p_{2,n} \\ \vdots \\ p_{r,n} \\ 0 \\ \vdots \\ 1
	\end{bmatrix}  \; c_{m}=x_{r+m} \ ( 1 \leq m \leq k). \]
	取 \( c_1=\cdots=c_k=0 \) 时，容易验证 \( \gamma \) 就为方程 (\ref{linequ.}) 的一个特解. 考察方程 (\ref{linequ.2})，将 \( \overline{A} \) 的最后一列全换为零，那么 \( \overline{K} \) 的前 \( n \) 列保持不变，最后一列依旧全为零. 同解方程组就变为
	\[ \left\{ \begin{array}{l}
		x_1= -p_{1,r+1}x_{r+1}-\cdots-p_{1,n}x_n, \\
		x_2= -p_{2,r+1}x_{r+1}-\cdots-p_{2,n}x_n, \\
		\qquad \vdots \\
		x_r= -p_{r,r+1}x_{r+1}-\cdots-p_{r,n}x_n. 
	\end{array}\right. \leadsto X=c_1\eta_1+\cdots+c_k\eta_k. \]
	
    遍历 \( 1 \leq i \leq k \)，依次取 \( c_i=1, c_j=0 \ (j \neq i) \) 即可证明 \( \eta_1,\cdots,\eta_k \) 为方程 (\ref{linequ.2}) 的若干不同解.
\end{proof}


定理 \ref{1.1.8}, 定理 \ref{1.1.12} 以及定理 \ref{1.1.13} 共同构成了线性方程组的理论基石，其中定理 \ref{1.1.13} 只能算是基础解系的初步刻画，我们在未来学习向量组理论之后将会完善这个命题. 在本节，秩只先定义为矩阵的行阶梯形矩阵的非零行数目，我们未来会给出更一般的定义. 秩作为相抵关系下的全系不变量，将会在后续的讨论中占据极其重要的地位.
 
最后作为补充，我们提出 Guass-Jordan 作为算法的复杂度. 以期在后续发现初等变换求解行列式相较于直接展开的优势. 在线性方程组的数值解法中，这一点显得格外重要，我们会介绍一种比起  Guass-Jordan 消元法在某种程度更优的算法: LU 分解.

\begin{proposition}
	设 \( A \) 为 \( m \times n \) 阶矩阵，记 \( N=\max\{n,m\} \). 那么随着 \( N \) 的增大，如定理 \ref{1.1.8} 所叙述的 Gauss-Jordan 算法所需要的操作次数大约被 \( N^3 \) 的某个常数倍所控制. 
\end{proposition}

\begin{proof}
	对每一个存在主元的列，设其为第 \( k \) 列，需要至多 \( m \) 行对比找到某个非零元，然后对该行进行倍法变换，使得主元变为 1，其余元素进行相应运算，至多 \( n \) 次运算. 进行消法变换，将该列其余行元素全变为零，涉及 \( m-1 \) 行的 \( (m-1)(n-k+1) \) 次乘法和减法，也就是操作次数为 \( 2(m-1)(n-k+1) \). 最后，这样存在主元的列至多有 \( \min\{n,m\}\leq n \) 列. 于是算法复杂度不超过
	\[  \sum_{k=1}^{n} [m+n+2(m-1)(n-k+1)]=(m+n)n+2(m-1) \cdot \frac{(n+1)n}{2} \leq 2N^2+N^3-N= \mathcal{O}(N^3). \] 
\end{proof}

\subsection{环和域：从具体到抽象}

在前面的讨论中，我们一直默认在实数域上进行，然而定理 \ref{1.1.8}, 定理 \ref{1.1.12} 以及定理 \ref{1.1.13} 告诉我们只需要系数可以自由进行四则运算，就能够求解线性方程组. 于是我们引入数域的概念.

\begin{definition}[数域]	\label{1.2.1}
	设 \( \{0,1\} \subseteq \F \subseteq \mathbb{C} \). 且任意 \( a,b \in \F \) 都有 \( a \pm b, a \cdot b \in \F \). 进一步，要求 \( b \neq 0 \)，则有 \( a/b \in \F \). 那么称 \( \F \) 为一个数域.

\end{definition}

在代数学中，我们非常关心运算满足的特性. 这里的定义看似只包含了封闭性，事实上还掩盖了一些额外的运算律. 我们在下面将它们列举出来.

\begin{definition}[域]	\label{1.2.2}
	设 \( \{0,1\} \subseteq \F \) 为一个集合，其上有两种二元运算 \( +:\F \times \F \to \F, \; \cdot :\F \times \F \to \F \)，分别称为加法和乘法.
	\begin{enumerate}[(A)]
		\item 加法运算满足，
		\begin{enumerate}[(1)]
			\item \textbf{结合律} \( (x+y)+z=x+(y+z) \);
			\item \textbf{零元性质} 存在 \( 0 \in \F \) 使得 \( x+0=0+x=x \);
			\item \textbf{存在逆元} 存在 \( -x \in \F \) 使得 \( x+(-x)=(-x)+x=0 \);
			\item \textbf{交换律} \( x+y=y+x \).
		\end{enumerate}
		\item 乘法运算 \( x \cdot y \) 简写为 \( xy \)，
		\begin{enumerate}[(1)]
			\item \textbf{结合律} \( (xy)z=x(yz) \);
			\item \textbf{幺元性质} 存在 \( 1 \in \F \) 使得 \( x \cdot 1=1 \cdot x=x \);
			\item \textbf{非零元存在逆元} 对 \( 0 \neq x \in \F \)，存在 \( x^{-1} \in \F \) 使得 \( x(x^{-1})=(x^{-1})x=1 \);
			\item \textbf{交换律} \( xy=yx \).
		\end{enumerate}
		\item 乘法和加法运算的协调性，
		\begin{enumerate}[(1)]
			\item \textbf{分配律} \( z(x+y)=zx+zy, \; (x+y)z=xz+yz \).
		\end{enumerate}
	\end{enumerate}
	
	其中 \( x,y,z \) 指 \( \F \) 中的任意元素，那么称满足上述所有条件的 \( (\F,+, \cdot) \) 为一个域.

\end{definition}

\begin{proposition}
	设 \( \F \subseteq \mathbb{C} \)，且加法和数乘定义为 \( \mathbb{C} \) 中通常意义下数的加法和数乘，那么定义 \ref{1.2.1} 和定义 \ref{1.2.2} 等价. 这说明数域也可以定义为
	\begin{center}
		\fbox{若 \( \F \subseteq \mathbb{C} \) 为域，那么称 \( \F \) 为 \( \mathbb{C} \) 的子域，此时也称 \( \F \) 为数域. }
	\end{center}
\end{proposition}

\begin{proof}
	(定义 \ref{1.2.1}  \( \Rightarrow \) 定义 \ref{1.2.2}) \ 二元运算由运算的封闭性得到. 定义 \ref{1.2.2} 的 (A)(1)(4)+(B)(1)(4)+(C) 是显然成立的，因为这就是普通数的乘法具有的运算律; (A)(2)+(B)(2) 由 \( 0,1 \in \F \) 也成立; (A)(3) 考虑减法的封闭性，任取 \( x \in \F \)，就有 \( 0-x=-x \in \F \); (B)(3) 考虑除法的封闭性，任取 \( 0 \neq x \in \F \)，就有 \( 1/x \in \F \).
	
	\vspace{1ex}
	
	(定义 \ref{1.2.2}  \( \Rightarrow \) 定义 \ref{1.2.1}) \ 由定义 \ref{1.2.2} 的二元运算前提，\( \F \) 对加法和乘法已经封闭. 注意到任取 \( a,b \in \F \)，\( a-b=a+(-b) \) 以及 \( a, 0 \neq b \in \F \)，\( a/b=ab^{-1} \). 减法和除法的封闭性就划归到了加法和乘法的封闭性. 所以在域中，真正关心的只有加法和乘法两种运算，减法和除法不过是在逆元存在时导出的两种运算.
\end{proof}

\begin{example}
	\( \mathbb{Q}, \mathbb{R} \) 和 \( \mathbb{C} \) 均为域，且为有无限个元素的域. \( \mathbb{Z} \) 和 \( \mathbb{N} \) 均不是域，两者都不满足定义 \ref{1.2.2} 中的 (B)(3)，且 \( \mathbb{N} \) 也不满足定义 \ref{1.2.2} 中的 (A)(3).
\end{example}

\begin{example}
	\ref{1.1} 节中的讨论所涉及的 \( \mathbb{R} \) 都可以换成一般的域 \( \F \). 在本节中，我们主要刻画一般的域. 在本节之后所有的讨论都回到数域上进行. 大部分结论都可以搬到一般域上，但是要小心域的特征，是否需要度量等细节.
\end{example}

\begin{proposition}\label{1.2.6}
	设 \( \F \) 为 \( \mathbb{C} \) 的子域，那么 \( \mathbb{Q} \subseteq \F \).
	
\end{proposition}

\begin{proof}
	(用定义 \ref{1.2.2}) \ 首先 \( 0,1 \in \F \). 由于 \( \F \) 对加法封闭，那么 \( \mathbb{Z} \subseteq \F \). 又由于 \( \F \) 中非零元均有逆元，那么对 \( q \in \mathbb{Z} \subseteq \F \) 都有 \( 1/q \in \F \). 再由乘法的封闭性，任意有理数 \( p/q \in \F, \; p,q \in \mathbb{Z} \). 故 \( \mathbb{Q} \subseteq \F \). 如果读者知道分式域，这里可以直接从 \( \mathbb{Z} \subseteq \F \) 得到结论，因为整数环的分式域为 \( \mathbb{Q} \).
	
	\vspace{1ex}
	
	(用定义 \ref{1.2.1}) \ 和上述证明完全相同，无非是得到 \( \mathbb{Z} \subseteq \F \) 后，直接由除法的封闭性得到结论.
\end{proof}

\begin{proposition}
	设数集 \( \F \) 至少包含两个不同数，若 \( \F \) 中任意两个数的差，以及任意一个数与非零数的商仍在 \( \F \) 中，则 \( \F \) 为数域.
\end{proposition}

\begin{proof}
	(用定义 \ref{1.2.1}) \ 不妨设 \( \{a,b\} \subseteq \F \) 且 \( a \neq b \). 则 \( a,b \) 不同时为 \( 0 \)，不妨 \( a \neq 0 \). 那么 \( a-a=0 \in \F \) 以及 \( a/a=1 \in \F \). 任意 \( 0 \neq r \in \F \) 都有 \( r^{-1}=1/r \in \F \). 这说明任意两个数的乘法是封闭的，因为任取 \( p,q \in \F \)，若 \( q=0 \)，那么 \( pq=0 \in \F \)，否则 \( pq=p/q^{-1} \in \F \). 同理，对任意 \( r \in \F \) 有 \( -r=0-r \in \F \). 说明 \( \F \) 对加法是封闭的，因为任取 \( p,q \in \F \) 有 \( p+q=p-(-q) \in \F \).
\end{proof}



下面介绍的环是以整数 \( \mathbb{Z} \) 为模板的，它相比上述定义 \ref{1.2.2}，仅仅只缺少了 (B)(3) 这一条件. 

\begin{definition}[环]	\label{1.2.8}
	设 \( R \) 为一个非空集合，其上有两种二元运算 \( +:R \times R \to R , \; \cdot : R \times R \to R \)，分别称为加法和乘法.
	\begin{enumerate}[(A)]
		\item 加法运算满足，
		\begin{enumerate}[(1)]
			\item \textbf{结合律} \( (x+y)+z=x+(y+z) \);
			\item \textbf{零元性质} 存在 \( 0 \in R \) 使得 \( x+0=0+x=x \);
			\item \textbf{存在逆元} 存在 \( -x \in R \) 使得 \( x+(-x)=(-x)+x=0 \);
			\item \textbf{交换律} \( x+y=y+x \).
		\end{enumerate}
		\item 乘法运算 \( x \cdot y \) 简写为 \( xy \)，
		\begin{enumerate}[(1)]
			\item \textbf{结合律} \( (xy)z=x(yz) \);
			\item \textcolor{blue}{\textbf{幺元性质} 存在 \( 1 \in R \) 使得 \( x \cdot 1=1 \cdot x=x \)};
			\item \textcolor{red}{\textbf{交换律} \( xy=yx \).}
		\end{enumerate}
		\item 乘法和加法运算的协调性，
		\begin{enumerate}[(1)]
			\item \textbf{分配律} \( z(x+y)=zx+zy, \; (x+y)z=xz+yz \).
		\end{enumerate}
	\end{enumerate}
	
	其中 \( x,y,z \) 指 \( R \) 中的任意元素，那么称满足 (A)+(B)(1)+(C) 的 \( (R,+, \cdot) \) 为一个环. 进一步，若还满足 (B)(2) 称为含幺环，若还满足 (B)(3) 称为交换环. 若同时满足上述 (A)+(B)+(C) 所有条件，称为含幺交换环. 这是最常见的环. 

\end{definition}

\begin{remark}
	最平凡的环为零环，若含幺环中的 \( 1=0 \)，那么 \( x \cdot 1= x \cdot 0 \overset{(\text{A})(2)}{=} x \cdot (0+0) \overset{(\text{C})(1)}{=} x \cdot 0+ x \cdot 0 \overset{(\text{A})(2)}{\leadsto} x \cdot 0=x \cdot 1=x=0 \). 说明 \( R=\{0\} \). 在后续讨论中，都默认 \( 1 \neq 0 \)，不考虑零环.
\end{remark}

\begin{example}[域]
	设 \( \F \) 为如同定义 \ref{1.2.2} 所定义的域. 那么 \( \F \) 为含幺交换环. 
\end{example}

\begin{example}[一元多项式环]
	设 \( x \) 为未定元，\( \F \) 为一个域， 称
	\[ \F[x]:=\{ a_nx^n+a_{n-1}x^{n-1}+\cdots+a_1x+a_0 : n \in \mathbb{N}^*, a_i \in \F, \; 1 \leq i \leq n \}. \]
	
	在如下定义的加法和乘法 (若 \( a_i, b_i \) 无定义，直接取为 0 )
	\[ \sum_{i=1}^{n} a_ix^i + \sum_{i=1}^{m} b_ix^i:= \sum_{i=1}^{\max\{n,m\}} (a_i+b_i)x^i, \; \left( \sum_{i=1}^{n} a_ix^i \right)\left( \sum_{i=1}^{m} b_ix^i \right)= \sum_{i=1}^{n+m} \left( \sum_{p+q=i}^{} a_pb_q \right) x^i \]
	
	下构成一个含幺交换环. 其中幺元为 \( 1 \in \F \)，交换律来自 \( \F \) 的交换律. 
\end{example}

\begin{proposition}	\label{1.2.12}
	设 \( p \) 为素数，那么显然 \( \sqrt{p} \notin \mathbb{Q} \). 记 \( \mathbb{Q}(\sqrt{p}) \) 为包含 \( \sqrt{p} \) 的最小数域，那么 \( \mathbb{Q}(\sqrt{p})=\mathbb{Q}[\sqrt{p}]=\{ a+b\sqrt{p} \mid a,b \in \mathbb{Q} \} \).

\end{proposition}

\begin{proof}
	首先 \( \mathbb{Q} \subseteq \mathbb{Q}(\sqrt{p}) \) 以及 \( \sqrt{p} \in \mathbb{Q}(\sqrt{p}) \)，结合这两点可以得到 \( \mathbb{Q}[\sqrt{p}] \subseteq \mathbb{Q}(\sqrt{p}) \). 再证明 \( \mathbb{Q}[\sqrt{p}] \) 确实为一个域即可. 容易验证这已经是一个环. (注. 这其实和上面的多项式环不同，它是环成立是因为赋值映射 \( \varphi: \mathbb{Q}[x] \to \mathbb{R}, \; f \mapsto f(\sqrt{p}) \) 为一个环同态，其像 \( \mathbb{Q}[\sqrt{p}]=\mathrm{Im}\varphi \) 为 \( \mathbb{R} \) 的子环. 你当然也可以直接定义验证.)
	
	 只需再证明其中的任意非零元都有 \( c+d\sqrt{p} \) 形式的逆元存在. 任取 \( a+b\sqrt{p} \neq 0 \)，若 \(  b=0 \)，那么 \( a^{-1} \in \mathbb{Q} \) 即为逆元. 考虑 \( b \neq 0 \)，断言 \( a-b\sqrt{p} \neq 0 \).
     否则 \( \sqrt{p}=a/b \in \mathbb{Q} \). 那么存在 \( m,n \in \mathbb{Z} \) 且 \( \gcd(m,n)=1 \) 使得 \( \sqrt{p}=m/n \leadsto m^2=n^2p \leadsto p\mid m^2\). 这说明 \( p \) 必定为 \( m \) 标准分解的一个素因子，也就有 \( p \mid m \). 设 \( m=m_1p \) 带入 \( m^2=n^2p \) 有 \( m_1^2p=n^2 \)，同理得到 \( p \mid n \). 这说明 \( p \mid \gcd(m,n)=1 \) 矛盾. 如果你不具备初等数论的知识，那你只需要承认 \( \sqrt{p} \) 为无理数，也可以得到这个断言. 我们在高等代数 II 还会从多项式的根和可约性的角度证明这一点.
	
	(\textbf{法一})\ 直接计算
	\[ \frac{1}{a+b\sqrt{p}}=\frac{a-b\sqrt{p}}{(a+b\sqrt{p})(a-b\sqrt{p})}= \frac{a-b\sqrt{p}}{a^2-b^2p} \in \mathbb{Q}[\sqrt{p}]. \]
	
	(\textbf{法二})\ 任取 \( a+b\sqrt{p} \neq 0 \)，考虑如下的恒等式
	\[ (a+bx)(bx-a)-b^2(x^2-p)=b^2p-a^2 \neq 0. \]
	
	代入 \( x=\sqrt{p} \)，得到 \( (a+b\sqrt{p})(b\sqrt{p}-a)=b^2p-a^2 \). 那么 \( (a+b\sqrt{p})^{-1}=(b\sqrt{p}-a)(b^2p-a^2)^{-1} \).
\end{proof}

\begin{corollary}	\label{1.2.13}
	设 \( p \) 为素数，若存在 \( c_1,c_2 \in \mathbb{Q} \) 使得 \( c_1+c_2\sqrt{p}=0 \)，那么必定有 \( c_1=c_2=0 \).

\end{corollary}

\begin{proof}
	否则，只能 \( c_1,c_2 \) 均不为 0，那么 \( \sqrt{p}=-c_1/c_2 \in \mathbb{Q} \). 由命题 \ref{1.2.12} 的证明导出矛盾.
\end{proof}

\begin{proposition}
	设 \( p \neq q \) 为素数，那么 \( \mathbb{Q}(\sqrt{p}) \) 与 \( \mathbb{Q}(\sqrt{q}) \) 之间不存在包含关系. 由素数有无穷多个知 \( \mathbb{Q} \) 与 \( \mathbb{R} \) 之间有无穷多个中间域.
\end{proposition}

\begin{proof}
	考虑 \( c_1,c_2,c_3 \in \mathbb{Q} \) 使得 \( c_1+c_2\sqrt{p}+c_3\sqrt{q}=0 \)，断言必有 \( c_1=c_2=c_3=0 \). 只考虑 \( c_2 \neq 0 \) 必定成立，若 \( c_2=0 \)，由推论 \ref{1.2.13} 结论已经成立. 那么 \( c_3^2q=(c_1^2+c_2^2p)+(2c_1c_2)\sqrt{p} \). 由推论 \ref{1.2.13} 得到 \( c_1c_2=0 \leadsto c_1=0 \). 那么 \( c_2\sqrt{p}=-c_3\sqrt{q} \). 存在 \( m,n \in \mathbb{Z} \) 且 \( \gcd(m,n)=1 \) 使得 \( \sqrt{p}/\sqrt{q}=m/n \leadsto m^2q=n^2p \). 分别考虑 \( m,n \) 的标准分解，就有 \( q \mid n \) 以及 \( p \mid m \). 不妨设 \( n=n_1q, \; m=m_1p \). 那么 \( m_1^2p^2q=n_1^2q^2p \leadsto m_1^2p=n_1^2q \leadsto p \mid p_1, \; q \mid m_1 \). 这就说明了 \( pq \mid \gcd(m,n)=1 \)，矛盾. 
	
	回到原题，考虑 \( a+b\sqrt{p}=c+d\sqrt{q} \in \mathbb{Q}(\sqrt{p}) \cap \mathbb{Q}(\sqrt{q}) \)，其中 \( a,b,c,d \in \mathbb{Q} \). 那么 \( a=c, b=d=0 \). 说明 \( \mathbb{Q}(\sqrt{p}) \cap \mathbb{Q}(\sqrt{q})=\mathbb{Q} \). 
\end{proof}

\begin{example}[模 \( n \) 剩余类环]
	对 \( \mathbb{Z} \)，设 \( n \) 为取定的任意正整数. 任意整数用 \( n \) 去除，其余数为 \( 0,1,2,\cdots,n-1 \) 之一. 对 \( 0 \leq l \leq n-1 \)，定义等价类 \( [l]:=\{l+kn\mid k \in \mathbb{Z}\}=:l+k\mathbb{Z} \). 现在记商集
	\[ \mathbb{Z}_n=\mathbb{Z}/n\mathbb{Z}:=\{ [0],[1],[2],\cdots,[n-1]\}. \]
	
	在 \( \mathbb{Z}_n \) 上定义加法和乘法如下
	\[ [a]+[b]:=[a+b], \; [a][b]:=[ab]. \]
	
	现在先说明这样的运算是良定义的 (well-defined). 任取 \( [a]=[a'], [b]=[b']  \) 都存在 \( p,q \in \mathbb{Z} \) 使得 \( a'=a+pn, \; b'=b+qn \)，那么
	\begin{align*}
	[a']+[b']=[a'+b'] &=\{a'+b'+kn \mid k \in \mathbb{Z} \}=\{a+b+(k+p+q)n \mid k \in \mathbb{Z} \} \\
	&=\{a+b+kn \mid k \in \mathbb{Z} \}=[a+b]=[a]+[b].
	\end{align*}
	\begin{align*}
		[a'][b']=[a'b'] &=\{a'b'+kn \mid k \in \mathbb{Z} \}=\{ab+(k+pqn+aq+bp)n \mid k \in \mathbb{Z} \} \\
		&=\{ab+kn \mid k \in \mathbb{Z} \}=[ab]=[a][b].
	\end{align*}

	
	这说明定义的两种运算不依赖于等价类 \( [a] \) 的代表元 \( a \) 的选取. 那么在上述运算下，\( \mathbb{Z}_n \) 成为一个含幺交换环，理由很明显，上述运算最后还是归结到 \( \mathbb{Z} \) 上的运算了.
\end{example}

\begin{example}[模 \( p \) 剩余类域]
	接着模 \( n \) 剩余类环的讨论，注意到 \( \mathbb{Z}_n \) 中的元素不一定乘法有逆，例如 \( \mathbb{Z}_4=\{[0],[1],[2],[3]\} \) 中 \( [2][1]=[2], \; [2][2]=[0], \; [2][3]=[2] \). 就是没有元素使得 \( [2][?]=[1] \)，那么 \( \mathbb{Z}_4 \) 就不是域.
	 
	\vspace{1ex}
	
	下面再研究 \( \mathbb{Z}_7 \). 给定 \( 1 \leq k \leq 6  \)，断言 \( \varphi: \mathbb{Z}_7 \to \mathbb{Z}_7, \; [l] \mapsto [k][l] \) 为双射. 只需证明为满射，即 \( 0,k,2k,\cdots,6k \) 被 7 除余数两两不同. 否则，若存在 \( 1 \leq l_1 < l_2 \leq 6 \) 使得 \( 7 \mid (l_2-l_1)k \). 由于 \( 7 \) 为素数，那么必然有 \( 7 \mid l_2-l_1 \) 或者 \( 7 \mid k \)，但这两者都不成立！故存在 \( [l] \in \mathbb{Z}_7 \) 使得 \( [k][l]=[1] \). 这说明 \( \mathbb{Z}_7 \) 为域.
	
	\vspace{1ex}
	
	一般地，对 \( p \) 是素数，可以证明 \( \mathbb{Z}_p \) 为域，称为模 \( p \) 剩余类域. 这是一类重要的有限域. 
\end{example}


\begin{definition}
	设 \( R \) 为环 (未必含幺和交换) ，对任意 \( n \in \mathbb{N} \) 以及 \( r \in \mathbb{R} \)，引入写法
	\[ n \times r=nr:=\underbrace{r+r+\cdots+r}_{n \text{项}}, \; n \geq 1, \]
	\[ 0 \cdot r =0, \; (-n) \cdots r=(-n)r:=-(n \cdot r). \]
	
	再任取 \( r' \in \mathbb{R}, \; m \in \mathbb{N} \)，那么
	\begin{enumerate}[(1)]
		\item \( n(r+r')=nr+nr', \; (n+m)r=nr+mr \);
		\item \( (nm)r=n(mr), \; (nr)r'=n(rr') \);
		\item 进一步，若 \( 1_R \in R \)，那么 \( r(n \cdot 1_R)=nr=(n \cdot 1_R)r \). 注意括号中的 \( \cdot \) 是如上定义的写法，指的是一个数和环中元素的乘积，并非普通的 \( \mathbb{N} \) 中的乘法.
	\end{enumerate}
\end{definition}

明显，在 \( \mathbb{Z}_p\) 中有 \( p[1]=[p]=[0] \). 但在整数环中，对任意的 \( n \in \mathbb{N}^* \) 都有 \( n \cdot 1 \neq 0 \). 为了解释这种区别，我们最后提出整环的特征的概念.

\begin{definition}[零因子]
	设 \( R \) 为环且 \( a \neq 0 \)，若存在 \( b \neq 0 \) 使得 \( ab=0 \). 则称 \( a \) 为环 \( R \) 的左零因子. 若存在 \( c \neq 0 \) 使得 \( ca = 0 \)，则相应称 \( a \) 为环 \( R \) 的右零因子. 左零因子和右零因子统称为 \( R \) 的零因子.
\end{definition}

\begin{proposition}
	设 \( R \) 为环，则零因子对乘法必定不可逆，即对零因子 \( a \in R \)，必定不存在 \( b \in R \) 使得 \( b \cdot a=a \cdot b=1 \).
\end{proposition}

\begin{proof}
	不妨设 \( a \) 为左零因子，那么存在 \( c \neq 0 \) 使 \( ac=0 \). 若结论不然，那么 \( b(ac)=(ba)c=1 \cdot c=c=0 \) 矛盾.
\end{proof}

\begin{example}
	在 \( \mathbb{Z}_4 \) 中，注意到 \( [2]^2=[4]=[0] \)，故 \( [2] \) 同时为左零因子和右零因子. 
\end{example}

\begin{definition}[整环]
	若 \( R \) 非零环，且 \( R \) 不含零因子，则称 \( R \) 为整环. 在整环中，消去律成立. 即若 \( R \) 为整环，且 \( 0 \neq a \in R, \; b,c \in R \) 有 \(ab=ac \Rightarrow b=c \).
\end{definition}

\begin{example}
	域上的一元多项式环 \( \F[x] \)，整数环都为整环. 所有的域也为整环，这是因为域中非零元都存在逆元，可以左乘或者右乘逆.
\end{example}

\begin{definition}[周期元]
	设 \( R \) 为环，若 \( 0 \neq a \in R \) 满足存在整数 \( m \in \mathbb{N}^* \) 使得 \( ma=0 \). 称 \( a \) 为周期元，并称满足上式最小的 \( m \) 为 \( a \) 的周期. 
\end{definition}

\begin{proposition}[整环的特征]	\label{1.2.24}
	设 \( R \) 为整环，若 \( R \) 中有周期元，那么必定存在素数 \( p \) 使得 \( pr=0 \) 对任意 \( r \in R \) 都成立. 此时 \( R \) 中所有非零元素均有相同周期 \( p \). 称 \( p \) 为整环 \( R \) 的特征，并记为 \( \tz  R=p \). 若 \( R \) 中没有周期元，那么记 \( \tz  R=0 \).

\end{proposition}

\begin{proof}
	不妨设存在周期元 \( a \neq 0 \)，且周期为 \( m \in \mathbb{N}^* \). 那么对任意 \( 0 \neq b \in R \) 有 \( (ma)b=0 \cdot b=0=a(mb) \). 由于 \( R \) 为整环，那么只好 \( mb=0 \). 这说明环中任意非零元素的周期不超过 \( m \)，若存在相应周期小于 \( m \) 的元素，那么由上述可知 \( a \) 的周期也小于 \( m \) 矛盾. 故环中任意非零元素有相同周期 \( m \).
	
	下面说明 \( m \) 必定为素数. 否则，存在 \( 2 \leq m_1<m_2<m \) 使得 \( m=m_1m_2 \). 那么 \( m_2a \) 的周期不超过 \( m_1<m \). 由前述导出矛盾. 
\end{proof}

\begin{proposition}
	设 \( R \) 为含幺整环，\( p \) 为素数. 那么 \( \tz    R=p \) 等价于 \( 1_R \) 的周期是 \( p \). 
\end{proposition}

\begin{proof}
	由命题 \ref{1.2.24}  知 \( \tz    R=p \) \( \Leftrightarrow \) \( R \) 中所有非零元素的周期为 \( p \) \( \Leftrightarrow \) \( 1_R \) 的周期是 \( p \).
\end{proof}

\begin{remark}
	我们一般只考虑整环的特征，例如 \( \mathbb{Z}_6 \) 不是整环，因为 \( [2][3]=[0] \).  那么它元素的周期未必相同，也未必为素数. 例如 \( 6[1]=[0], \; 3[2]=[0] \). 元素 \( [1] \) 的周期为 6; 元素 \( [2] \) 的周期为 3.
\end{remark}

显然数域的特征都是 0. 对特征为 0 的域，由于 \( n 1 \neq 0 \) 对任意 \( n \in \mathbb{N}^* \) 都成立，这意味着特征为 0 的域必定为无限域. 换言之，有限域特征必定非零，又有限域为整环，那么必定以某个素数 \( p \) 为特征. 下面我们给出命题 \ref{1.2.6} 的推广.

\begin{theorem}
	设 \( \F \) 为域，且 \( \tz    \F=0 \). 则必定存在 \( \F_0 \subseteq \F \) 作为最小子域，使得 \( \F_0 \cong \mathbb{Q} \)，这是指存在双射 \( \varphi: \mathbb{Q} \to \F_0 \)，且保持域系统的运算
	\[ \varphi(a+b)=\varphi(a)+\varphi(b), \; \varphi(ab)=\varphi(a)\varphi(b). \]
\end{theorem}

\begin{proof}
	类似命题 \ref{1.2.6} 可以证明，若 \( e \) 为 \( \F \) 的单位元，那么 \( \F_0:=\{me(ne)^{-1} \mid m,n \in \mathbb{Z} \} \) 为 \( \F \) 的子域. 构造 \( \varphi: \mathbb{Q} \to \F_0, m/n \mapsto me(ne)^{-1} \) 即可. 或者事实上，由于 \( \varphi \) 保持运算且双射，\( \mathbb{Q} \) 为域，那么 \( \F_0 \) 自然也为域. 且任取 \( \mathbb{K} \subseteq \F \)，显然有 \( \F_0 \subseteq \mathbb{K} \).
\end{proof}

\begin{theorem}
	设 \( \F \) 为域，且 \( \tz  \F=p \) 为素数. 则必定存在 \( \F_p \subseteq \F \) 作为最小子域，使得 \( \F_p \cong \mathbb{Z}_p \). 通常仍然把这个最小子域记作 \( \mathbb{Z}_p \)，并称为 \( \F \) 的素子域.
\end{theorem}

\begin{proof}
	设 \( e \) 为 \( \F \) 的单位元，记 \( \F_p:=\{0,e,2e,\cdots,(p-1)e\} \). 定义 \( \varphi:\mathbb{Z}_p \to \F_p, \; [k] \mapsto ke \). 由于 \( \varphi \) 保持运算且双射，\( \mathbb{Z}_p \) 为域，那么 \( \F_p \) 自然也为域. 且任取 \( \mathbb{K} \subseteq \F \)，显然有 \( \F_p \subseteq \mathbb{K} \).
\end{proof}

\subsection{数域上的矩阵环}

\subsubsection{矩阵乘法的定义}

在 \S \ref{1.1} 节线性方程组的有关讨论中，我们引入了矩阵这个工具. 现在我们希望完善矩阵相关的理论，又希望其来源于一定的动机. 

对于两个同型的方程组，即 \( m \) 和 \( n \) 均相同，那么可以直接将两个方程组的系数叠加得到新的方程. 反映在矩阵上，设 \( A=(a_{ij}), \; B=(b_{ij}) \) 均为数域 \( \F \) 上的 \( n \times m \) 阶矩阵，那么 \( A \pm B=(a_{ij} \pm b_{ij}) \) 是自然的. 但矩阵的乘法显得有些棘手. 一个合理的动机来自线性方程组的嵌套，例如现在有两个线性方程组
\[ \left\{ \begin{array}{l}
	y_1= a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n, \\
	y_2= a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n, \\
	\qquad \vdots \\
	y_m= a_{m1}x_1+a_{m2}x_2+\cdots+a_{mn}x_n.
\end{array}\right. , \; \left\{ \begin{array}{l}
z_1= b_{11}y_1+b_{12}y_2+\cdots+b_{1m}y_m, \\
z_2= b_{21}y_1+b_{22}y_2+\cdots+b_{2m}y_m, \\
\qquad \vdots \\
z_t= b_{t1}y_1+b_{t2}y_2+\cdots+b_{tm}y_m.
\end{array}\right. \]

记矩阵 \( A=(a_{ij}) \) 为 \( m \times n \) 矩阵且 \( B=(b_{ij}) \) 为 \( t\times m \) 矩阵. 现在希望得到 \( z_i \) 关于 \( x_1,\cdots,x_n \) 的表达式，利用求和符号，即
\[ z_i=\sum_{k=1}^{m} b_{ik}y_k= \sum_{k=1}^{m} b_{ik} \left( \sum_{j=1}^{n} a_{kj} x_j \right)= \sum_{j=1}^{n} \sum_{k=1}^{m} b_{ik}a_{kj} x_j = \sum_{j=1}^{n} \left( \sum_{k=1}^{m} b_{ik}a_{kj}\right) x_j. \]

\begin{definition}[矩阵的乘法]	\label{1.3.1}
	设矩阵 \( A=(a_{ij}) \) 为数域 \( \F \) 上的 \( m \times n \) 矩阵且 \( B=(b_{ij}) \) 为数域 \( \F \) 上的 \( t\times m \) 矩阵. 定义矩阵 \( B \) 和矩阵 \( A \) 的乘积为矩阵 \( BA=:C=(c_{ij}) \)，其中 \( C \) 为数域 \( \F \) 上的 \( t \times n \) 阶矩阵，且
	\[ c_{ij}=\sum_{k=1}^{m} b_{ik}a_{kj}. \] 

\end{definition}

为了熟练上述运算，给出几个例子.

\begin{example}[线性方程组的矩阵表示]
	设 \( \beta=(b_1,\cdots,b_m)\T \in \F^m \)，以及数域 \( \F \) 上的 \( m \times n \) 矩阵 \( A=(a_{ij}) \). 同时记 \( X=(x_1,\cdots,x_n)\T  \). 那么线性方程组
	\[ \left\{\begin{array}{l}
		a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n=b_1, \\
		a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n=b_1, \\
		\qquad \vdots \\
		a_{m1}x_1+a_{m2}x_2+\cdots+a_{mn}x_n=b_m.
	\end{array}\right. \]
	
	可以简单记为 \( AX=\beta \).
\end{example}

\begin{definition}[初等矩阵] 	\label{1.3.3}
	在定义 \ref{1.1.2} 的基础上，定义初等矩阵
	\begin{enumerate}[(A)]
		\item 消法矩阵
		\[ E(i,j(c))=\bordermatrix{
			& & & & & & & \cr
			& 1 & & & & & &  \cr
			& & \ddots & & & & &  \cr
		\textbf{\(i\)}	& & & 1 & \cdots & c & &  \cr
			& & & & \ddots & \vdots & &  \cr
		\textbf{\(j\)}	& & & & & 1 & &  \cr
			& & & & & & \ddots  &  \cr
			& & & & & & & 1 \cr
		}. \]
		\item 倍法矩阵，其中 \( c \neq 0 \)
		\[ E(i(c))=\bordermatrix{
			& & & & & & &  \cr
			& 1 & & & &  & &  \cr
			& & \ddots & & &  & &  \cr
			& & & 1 & &  & &  \cr
			\textbf{\(i\)}	& & & & c & & &   \cr
			& &  & & & 1  & &  \cr
			& & & &  & &\ddots &  \cr
			& & & & & & & 1   \cr
		}. \]
		\item 互换矩阵
		\[
		E(i,j) = \bordermatrix{
			&       &       &       &       &       &       &       &       &       &       &       \cr
			& 1     &       &       &       &       &       &       &       &       &       &       \cr
			&       & \ddots&       &       &       &       &       &       &       &       &       \cr
			&       &       & 1     &       &       &       &       &       &       &       &       \cr
			\textbf{\(i\)} &  &       &       & 0     &       & \cdots&       & 1     &       &       &       \cr
			&       &       &       &       & 1     &       &       &       &       &       &       \cr
			&       &       &       & \vdots&       & \ddots&       & \vdots&       &       &       \cr
			&       &       &       &       &       &       & 1     &       &       &       &       \cr
			\textbf{\(j\)} &  &       &       & 1     &       & \cdots&       & 0     &       &       &       \cr
			&       &       &       &       &       &       &       &       & 1     &       &       \cr
			&       &       &       &       &       &       &       &       &       & \ddots&       \cr
			&       &       &       &       &       &       &       &       &       &       & 1     
		}
		\]
		
	\end{enumerate}

\end{definition}
\begin{example}[初等变换的矩阵表示]
	给定线性方程组 (\ref{linequ.})，设其系数矩阵为 \( A \)，那么
	\begin{enumerate}[(1)]
		\item 消法变换：对 \( 1 \leq i \neq j \leq m \)，\( c \in \F \). 将第 \( i \) 行的 \( c \) 倍加到第 \( j \) 行对应
		\[ E(j,i(c))A=\bordermatrix{
			&&&&& \cr
			&a_{11} & a_{12} & a_{13} & \cdots & a_{1n} \cr
			&\vdots & \vdots & \ddots & \ddots & \vdots \cr
			j &a_{j1}+ca_{i1} & a_{j2}+ca_{i2} & a_{j3}+ca_{i3} &  \cdots & a_{jn}+ca_{in} \cr
			&\vdots & \vdots & \ddots & \ddots & \vdots \cr
			&a_{m1} & a_{m2} & a_{m3} & \cdots & a_{mn}
		}. \]
		\item 倍法变换：设 \( 1 \leq i \leq m \)，且 \( 0 \neq c \in \F \)，将第 \( i \) 行的每个元素都乘 \( c \) 对应
		\[ E(i(c))A=\bordermatrix{
			&&&&& \cr
			&a_{11} & a_{12} & a_{13} & \cdots & a_{1n} \cr
			&\vdots & \vdots & \ddots & \ddots & \vdots \cr
			i &ca_{i1} & ca_{i2} & ca_{i3} &  \cdots & ca_{in} \cr
			&\vdots & \vdots & \ddots & \ddots & \vdots \cr
			&a_{m1} & a_{m2} & a_{m3} & \cdots & a_{mn}
		}.  \]
		\item 互换变换：设 \( 1 \leq i \neq j \leq m \)，将第 \( i \) 行和第 \( j \) 行的元素互换对应
		\[ E(i,j)A=\bordermatrix{
			&&&&& \cr
			&&&&& \cr
			i &a_{j1} & a_{j2} & a_{j3} &  \cdots & a_{jn} \cr
			&\vdots & \vdots & \ddots & \ddots & \vdots \cr
			j &a_{i1} & a_{i2} & a_{i3} &  \cdots & a_{in} \cr
			&&&&& 
		}.   \]
	\end{enumerate}
	
	也即矩阵进行初等行变换相当于左乘初等矩阵. 类似的，可以自行验证，矩阵进行初等列变换相当于右乘初等矩阵. 值得注意的是 \( AE(i,j(c)) \) 表示矩阵的第 \( i \) 列的 \( c \) 倍加到第 \( j \) 列. 
	
	有一个比较好用的记忆口诀，“左行右列，由近及远”. 意思是 \( E(i,j(c)) \) 在 \( A \) 的左侧就是行初等变换，右侧是列初等变换，永远都是靠近 \( A \) 的那个数对应的行/列的 \( c \) 倍加到远离 \( A \) 的那个数对应的行/列.
\end{example}

\begin{definition}[映射]
	设 \( A \) 和 \( B \) 为两个非空集合，称 \( \varphi:A \to B \) 为从 \( A \) 到 \( B \) 的一个映射，如果对任意 \( \alpha \in A \)，都存在唯一的(\( \exists !\)) \( \beta \in B \) 使得 \( \beta=\varphi(\alpha) \). 
\end{definition}


\begin{example}[矩阵乘法的映射观点]	\label{1.3.6}
	设 \( A \) 为 \( m \times n \) 矩阵，\( B \) 为 \( n \times t \) 矩阵，定义 \( \varphi: \F^n \to \F^m, \; X \mapsto AX, \; \psi: \F\T \to \F^n, \; Y \mapsto BY \). 那么存在唯一的映射 \( \T Au: \F\T \to \F^m \) 使得下图交换
	\[ \xymatrix@R=7ex@C=6ex{
		 & \F^n\ar"2,3"_{\varphi} & \\
		\F^t\ar"1,2"_{\psi}\ar"2,3"_{\exists ! \tau } &  & \F^m\\
	} \]
	事实上，这些映射都是线性映射，即保持加法和数乘运算.

\end{example}

\begin{example}
	计算
	\[ A^n=\begin{bmatrix}
		\cos \theta & \sin \theta \\
		-\sin \theta & \cos \theta
	\end{bmatrix}^n \]
\end{example}

\begin{solution}
	考虑数学归纳法容易得到
	\[ A^n=\begin{bmatrix}
		\cos n\theta & \sin n\theta \\
		-\sin n\theta & \cos n\theta
	\end{bmatrix}. \]
	
	现在利用例 \ref{1.3.6}，考虑 \( \varphi: \F^2 \to \F^2, \; X \mapsto AX \). 仅考虑 \(X \neq O \). 用极坐标系，那么
	\[ \varphi(\rho \cos \alpha, \rho \sin \alpha)=(\rho\cos \theta\cos \alpha+ \rho \sin \theta \sin \alpha, -\rho \sin \theta \cos \alpha+ \rho \cos \theta \sin \alpha)= \rho(\cos(\alpha-\theta), \sin(\alpha-\theta)). \]
	
	那么
	\[ \varphi^n(\rho \cos \alpha, \rho \sin \alpha)= \rho(\cos(\alpha-n\theta), \sin(\alpha-n\theta)).  \]
	
	拆开就能写成
	\[ \varphi^n(X)=A^nX=\begin{bmatrix}
		\cos n\theta & \sin n\theta \\
		-\sin n\theta & \cos n\theta
	\end{bmatrix}X. \]
	
	由 \( X \) 的任意性得到结果. \textbf{思考}: 这里怎么用任意性得到结果呢? 事实上如果有对任意 \( X \in \F^n \) 都有 \( AX=BX \)，那么 \( A=B \). 参考下面性质 \ref{1.3.14} 的 (4).
\end{solution}

\begin{example}[矩阵乘法非交换]
	由定义 \ref{1.3.1} 定义的矩阵乘法对阶数大于等于 \( 2 \) 的矩阵通常是非交换的，即往往不满足 \( AB=BA \). 例如取
	\[ A=\begin{bmatrix}
		1 & 2 \\ 3 & 4
	\end{bmatrix}, \; B=\begin{bmatrix}
	    4 & 3 \\ 2 & 1
	\end{bmatrix}. \]
	
	那么
	\[ AB=\begin{bmatrix}
		8 & 5 \\20 & 13
	\end{bmatrix} \neq \begin{bmatrix}
	   13 & 20 \\ 5 & 8
	\end{bmatrix}=BA. \]
	
	由于交换性不成立，那么完全平方公式也不成立 \( (A+B)^2= A^2+AB+BA+B^2\neq A^2+2AB+B^2 \). 进而二项式定理也不适用，除非有 \( AB=BA \).
\end{example}


\subsubsection{特殊矩阵}

下面介绍几种特殊矩阵，在未来的学习中会经常使用到.

\begin{example}[零矩阵和单位矩阵]
	记
	\[ O=O_n:=\begin{bmatrix}
		0 & 0 & \cdots & 0 \\
		0 & 0 & \cdots & 0 \\
		\vdots & \vdots & \ddots & \vdots \\
		0 & 0 & \cdots & 0
	\end{bmatrix}, \; E_n=I_n:=\begin{bmatrix}
	1 & 0 & \cdots & 0 \\
	0 & 1 & \cdots & 0 \\
	\vdots & \vdots & \ddots & \vdots \\
	0 & 0 & \cdots & 1
	\end{bmatrix} \]
	
	分别为 \( n \) 阶零矩阵和单位矩阵，它们分别是矩阵加法和乘法的单位元.
\end{example}

\begin{example}
	单位矩阵和任意矩阵可交换，所以它可以充当矩阵乘法的单位元，即对任意 \( n \) 阶矩阵 \( A \) 有 \( E_nA=AE_n=A \).
\end{example}

有了上面两种矩阵的铺垫，我们可以给出一类典型的非交换环: 数域 \( F \) 上的 \( n \) 阶全矩阵环 \( \F^{n \times n} \). 事实上，如果只需要得到环这一结构，不需要将矩阵的严肃定义在域上，只需要定义在环上即可. 但是这不作为高等代数课程的要求，我们在高等代数 II 会接触到一类多项式环 \( \F[x] \) 上的全矩阵环，即 \( \lambda \) 矩阵.

\begin{proposition}[矩阵环]
	数域 \( \F \) 上的 \( n \ (n  \geq 2) \) 阶矩阵组成的集合 \( \F^{n \times n} \) 在通常意义的矩阵加法和乘法下构成一个含幺环，是非交换的，该环称为数域 \( \F \) 上的全矩阵环，即
	\begin{enumerate}[(A)]
		\item 矩阵的加法运算满足，
		\begin{enumerate}[(1)]
			\item \textbf{结合律} \( (A+B)+C=A+(B+C) \);
			\item \textbf{零元性质} 存在 \( O \in \F^{n \times n} \) 使得 \( A+O=O+A=A \);
			\item \textbf{存在逆元} 存在 \( -A \in \F^{n \times n} \) 使得 \( A+(-A)=(-A)+A=O \);
			\item \textbf{交换律} \( A+B=B+A \).
		\end{enumerate}
		\item 矩阵的乘法运算满足，
		\begin{enumerate}[(1)]
			\item \textbf{结合律} \( (AB)C=A(BC) \);
			\item \textcolor{blue}{\textbf{幺元性质} 存在 \( E_n \in \F^{n \times n} \) 使得 \( AE_n=E_nA=A \)}.
		\end{enumerate}
		\item 乘法和加法运算的协调性，
		\begin{enumerate}[(1)]
			\item \textbf{分配律} \( A(B+C)=AB+AC, \; (B+C)A=BA+CA \).
		\end{enumerate}
	\end{enumerate}
	
	另外，如果在全矩阵环中再额外考虑数量乘法 \( cA \ (c \in \F) \)，那么搭配数乘，加法和乘法的结构构成一个 \( \F-\)代数. 这一点会在我们本学期学习线性映射后给出正式定义.
\end{proposition}

\begin{proof}
    (A) 其实完全由 \( \F \) 作为数域的运算律保证成立. 我们只验证 (B)(1). 设 \( A=(a_{ij}), \; B=(b_{ij}), \; C=(c_{ij})\). 设 \( (AB)C \) 的 \( (i,j) \) 元为 \( p_{ij} \), \ \( A(BC) \) 的 \( (i,j) \) 元为 \( q_{ij} \)，那么
    \[ p_{ij}=\sum_{t=1}^{n}\left(\sum_{k=1}^{n}a_{ik}b_{kt} \right) c_{tj}, \; q_{ij}= \sum_{t=1}^{n} a_{it} \left( \sum_{k=1}^{n} b_{tk}c_{kj} \right). \]
    
    显然求和的结果与连加号所选择的角标符号以及求和顺序是无关的，那么
    \[ p_{ij}=q_{ij}=\sum_{t=1}^{n}\sum_{k=1}^{n}a_{ik}b_{kt}c_{tj}=\sum_{k=1}^{n}\sum_{t=1}^{n}a_{ik}b_{kt}c_{tj}. \]
    
    全矩阵环结合律的成立保证了对多项式 \( f,g \in \F[x] \)，有 \( f(A) \) 和 \( g(A) \) 是可以随意交换的.
\end{proof}

\begin{example}
	数域 \( \F \) 上全矩阵环具有零因子. 即存在 \( A, B \neq O \) 使得 \( AB=O \). 例如取
	\[ A=\begin{bmatrix}
		1 & 0 \\ 0 & 0
	\end{bmatrix}, \; B=\begin{bmatrix}
	0 & 1 \\ 0 & 0
	\end{bmatrix}. \]
	
	自然，矩阵的乘法也不满足消去律，例如取
	\[ C=\begin{bmatrix}
		1 & 1 \\ 0 & 0
	\end{bmatrix}, \; D=A=\begin{bmatrix}
	1 & 0 \\ 0 & 0
	\end{bmatrix}. \]
	
	那么 \( C-D=B \leadsto A(C-D)=AB=O \leadsto AC=AD \). 但没有 \( C=D \).
\end{example}
\begin{example}[\( n \) 维标准列向量]
	记
	\[ \varepsilon_1:=\begin{bmatrix}
		1 \\ 0 \\ 0 \\ \vdots \\ 0
	\end{bmatrix}, \; \varepsilon_2:=\begin{bmatrix}
	0 \\ 1 \\ 0 \\ \vdots \\ 0
	\end{bmatrix}, \cdots, \; \varepsilon_2:=\begin{bmatrix}
	0 \\ 0 \\ 0 \\ \vdots \\ 1
	\end{bmatrix} \]
	
	为 \( \F^n \) 中的 \( n \) 维标准列向量. 对行向量，也有类似的定义. 不过在后续学习中，我们更多使用列向量，对行向量往往采用列向量的转置的写法.
\end{example}

\begin{property}[标准列向量]	\label{1.3.14}
	给定矩阵 \( A,B \) 为数域 \( \F \) 上的 \( m \times n \) 矩阵，那么
	\begin{enumerate}[(1)]
		\item(标准正交基) \( \varepsilon_i\T\varepsilon_j = \delta_{ij} \) ，其中 \( \delta_{ij} \) 仅当 \( i=j \) 时取值为 1，否则取值为 0;
		\item \( A\varepsilon_j \) 为矩阵 \( A \) 的第 \( j \) 列，\( \varepsilon_i\T A \) 为矩阵 \( A \) 的第 \( i \) 行;
		\item 设 \( A \) 的 \( (i,j) \) 元为 \( a_{ij} \)，那么 \( \varepsilon_i\T A\varepsilon_j =a_{ij} \);
		\item \( A=B \Leftrightarrow A\varepsilon_j = B\varepsilon_j \Leftrightarrow \varepsilon_i\T A = \varepsilon_i\T B \Leftrightarrow \varepsilon_i\T A\varepsilon_j = \varepsilon_i\T B\varepsilon_j  \) 对任意 \( 1 \leq i \leq m \) 以及 \( 1 \leq j \leq n \) 成立.
	\end{enumerate} 

\end{property}

\begin{proof}
	只需要简单的计算. 这个结论应当背诵.
\end{proof}

\begin{example}[基础矩阵]
	\( n \) 阶基础矩阵指的是 \( n^2 \) 个 \( n \) 阶矩阵 \( \{E_{ij}:1 \leq i,j \leq n\} \). 这里 \( E_{ij} \) 为一个 \( n \) 阶矩阵，它的 \( (i,j) \) 元为 \( 1 \)，其余元素均为 \( 0 \)，即
	\[ E_{ij}=\bordermatrix{
		& & & & \textbf{\(j\)} & & &  \cr
		&  & & & &  & &  \cr
		& &  & & &  & &  \cr
		& & &  & &  & &  \cr
		\textbf{\(i\)}	& & & & 1 & & &   \cr
		& &  & & &   & &  \cr
		& & & &  & & &  \cr
		& & & & & & &   
	}. \]
\end{example}

\begin{property}[基础矩阵]	\label{1.3.16}
	基础矩阵可以看成标准列向量和标准行向量的乘积，即 \( E_{ij}=\varepsilon_i\varepsilon_j^{T} \)，那么可以得到
	\begin{enumerate}[(1)]
		\item \( E_{ij}E_{kl}=\delta_{jk}E_{il} \)，其中 \( \delta_{jk} \) 仅当 \( j=k \) 时取值为 1，否则取值为 0;
		\item 给定 \( m \times n \) 矩阵 \( A \)，那么 \( AE_{ij} \) 的第 \( j \) 列为矩阵 \( A \) 的第 \( i \) 列， \( AE_{ij} \) 的其余列均为 0;
		\item 给定 \( m \times n \) 矩阵 \( A \)，那么 \( E_{ij}A \) 的第 \( i \) 行为矩阵 \( A \) 的第 \( j \) 行， \( E_{ij}A \) 的其余行均为 0;
		\item 给定 \( m \times n \) 矩阵 \( A \)，并设 \( A \) 的 \( (i,j) \) 元为 \( a_{ij} \)，那么 \( E_{ij}AE_{kl} =a_{jk}E_{il} \).
	\end{enumerate}

\end{property}

\begin{proof}
	(1) \( E_{ij}E_{kl}= \varepsilon_i\varepsilon_j\T\varepsilon_k\varepsilon_l\T= (\varepsilon_j\T\varepsilon_k)\varepsilon_i\varepsilon_l\T =(\varepsilon_j\T\varepsilon_k)E_{il} \). 利用性质 \ref{1.3.14} (1) 即得; (2) \( AE_{ij}=A\varepsilon_i\varepsilon_j\T \).  设 \( A=(a_{ij}) \)，利用性质 \ref{1.3.14} (2) 得到 \( A\varepsilon_i=(a_{1i},\cdots,a_{mi})\T \)，那么
	\[ AE_{ij}=A\varepsilon_i\varepsilon_j\T= \begin{pmatrix}
		a_{1i} \\ \vdots \\ a_{mi}
	\end{pmatrix}\bordermatrix{
	& & & j & & \cr
	& 0 & \cdots & 1 & \cdots & 0 
	}= \bordermatrix{
	& & & j & & \cr
	& 0 & \cdots & a_{1i} & \cdots & 0 \cr
	& 0 & \cdots & a_{2i} & \cdots & 0 \cr
	& 0 & \cdots & \vdots & \cdots & 0 \cr
	& 0 & \cdots & a_{mi} & \cdots & 0 \cr
	}. \]
	
	(3) \( E_{ij}A=\varepsilon_i\varepsilon_j\T A \). 设 \( A=(a_{ij}) \)，利用性质 \ref{1.3.14} (2) 得到 \( \varepsilon_j\T A=(a_{j1},a_{j2},\cdots,a_{jn}) \). 那么
	\[ AE_{ij}=\varepsilon_i\varepsilon_j\T A= \bordermatrix{
		&  \cr
		& 0  \cr
		& \vdots \cr
		i & 1 \cr
		& \vdots \cr
		& 0 
	} \begin{pmatrix}
	a_{j1} & a_{j2} & a_{j3} & \cdots & a_{jn}
	\end{pmatrix}
	= \bordermatrix{
		& & &  &  \cr
		& 0 & 0 & 0 & 0   \cr
		& \vdots & \vdots & \ddots & \vdots \cr
	  i	& a_{j1} & a_{j2} & \cdots  & a_{jn}  \cr
		& \vdots & \vdots & \ddots & \vdots  \cr
		& 0& 0& 0 &0  \cr
	}. \]
	(4) \( E_{ij}AE_{kl} =\varepsilon_i\varepsilon_j\T A\varepsilon_k\varepsilon_l\T=\varepsilon_i(\varepsilon_j\T A\varepsilon_k)\varepsilon_l\T=(\varepsilon_j\T A\varepsilon_k)(\varepsilon_i\varepsilon_l\T) \). 利用性质 \ref{1.3.14} (1) 和 (3) 得到 \( E_{ij}AE_{kl} =a_{jk}E_{il} \).
\end{proof}


用上述工具，我们可以很轻松地证明全矩阵环 \( \F^{n \times n} \) 的一个小结论: 全矩阵环为单环，即全矩阵环只有平凡理想. 不过我们不想在此处介绍太多理想的概念，你只需要接受下面命题的表述即可，在高等代数 II 我们会正式定义理想. 

\begin{proposition}
	考虑数域 \( \F \) 上的全矩阵环 \( \F^{n \times n} \). 记 \( I \subseteq \F^{n \times n} \). 若 \( I \) 满足
	\begin{enumerate}[(1)]
		\item (加法为子群) \ 对任意 \( A,B \in I \) 都有 \( A-B \in I \);
		\item (乘法双边封闭性) \ 对任意 \( A  \in I \) 以及任意的方阵 \( X \in \F^{n \times n} \) 都有 \( AX, \; XA \in I \).
	\end{enumerate}
	
	那么 \( I= \emptyset \) 或者 \( \F^{n \times n} \).
\end{proposition}

\begin{proof}
	不妨设 \( I \) 非空，只需证明此时有 \( I=\F^{n \times n} \). 那么至少存在 \( O \neq A \in I \)，不妨设 \( A \) 的 \( (i,j)\) 元素 \( a_{ij} \neq 0 \). 那么利用上述条件 (2) 得到 \( E_{ki}AE_{jl}=a_{ij}E_{kl} \in I \). 这里 \( k,l \) 为任意取的. 那么不妨 \( k=l \)，得到 \( a_{ij}E_{kk} \ (1 \leq k \leq n) \in I \). 而这时候 \( A-A=O \in I \) 说明任意 \( A \in I  \) 都有 \( -A \in I \). 即 (1) 可推出 \( I \) 对加法封闭. 那么
	\[ a_{ij}E_n=\sum_{k=1}^{n} (a_{ij}E_{kk}) \in I. \]
	
	那么任取 \( P \in \F^{n \times n} \)，再次利用 (2) 有 
	\[ P= (a_{ij}^{-1}P)(a_{ij}E_n) \in I. \]
	
	说明 \( I=\F^{n \times n} \).
\end{proof}

\begin{example}
	设 \( A \in \F^{n \times n} \).
	\begin{enumerate}[(1)]
		\item 若 \( A \) 只有对角线上的元素非零，即只有 \( (i,i) \) 元素非零，那么称 \( A \) 为对角矩阵，一般记为 \( A=\mathrm{diag}\{a_{11},a_{22},\cdots \\ ,a_{nn} \} \);
		\item 单位矩阵 \( E_n \) 为特殊的对角矩阵，若 \( c \in \F \)，一般称 \( cE_n \) 为数量矩阵或者纯量矩阵;
		\item 若 \( A \) 只有 \( (i,j) \) 元素非零，其余元素全为 0，其中 \( 1 \leq i \leq j \leq n \)，那么称 \( A \) 为上三角矩阵;
		\item 相应的，若将 (2) 的条件改为 \( 1 \leq j \leq i \leq n \)，那么称 \( A \) 为下三角矩阵.
	\end{enumerate}
\end{example}

\begin{proposition}	\label{1.3.19}
	设 \( A \in \F^{n \times n} \) 为上三角矩阵且对角线上的元素全为零，证明 \( A^n=O \).

\end{proposition}

\begin{proof}
	(\textbf{法一}) \ 根据上三角矩阵的定义，设 \( A\varepsilon_i=a_{1i}\varepsilon_1+a_{2i}\varepsilon_2+\cdots+a_{i-1,i}\varepsilon_{i-1} \ (2 \leq i \leq n)\). 注意到 \( A \) 的第 \( 1 \) 列全为零，那么 \( A\varepsilon_1=\bm{0} \). 下面用归纳法证明 \( A^k\varepsilon_k=\bm{0} \) 对 \( 1 \leq k \leq n \) 成立，就有 \( A^n\varepsilon_k =\bm{0} \) 恒成立，进而由性质 \ref{1.3.14} (4) 得到 \( A^n=O \). 当 \( k=1 \) 时结论已经成立，设 \( k<l \) 时结论成立，对 \( k=l \) 时
	\[ A^l\varepsilon_l= A^{l-1}(A\varepsilon_l)=A^{l-1}(a_{1l}\varepsilon_1+\cdots+a_{l-1,l}\varepsilon_{l-1})=\bm{0}. \]
	
	(\textbf{法二}) \ 考虑 \( A \) 的基础矩阵分解
	\[ A=\sum_{i < j}^{} a_{ij}E_{ij}. \]
	
	那么用性质 \ref{1.3.16} (1) 可以发现 \( A^2 \) 中只能留下 \( E_{ij} \ (j \geq i+2) \) 之类的项，这来自 \( E_{ik}E_{kj} \ (i<k<j) \) 的乘积. 在展开式中，其他类似 \( E_{ij}^2, E_{ij}E_{kj} \ (i,k<j), E_{ij}E_{pq}\ (i<j<p<q) \) 之类的项全部为零. 进而 \( A^{n-1} \) 只能留下 \( E_{ij} \ (j \geq i+n-1) \) 之类的项，也即只留下了 \( E_{1n} \) 这一类项，那么 \( E_{1n}^2=O \) 蕴含 \( A^n=O \).
\end{proof}

\begin{proposition}	\label{1.3.20}
	和任意矩阵乘法可交换的必定为数量矩阵 \( cE_n \ (c \in \F)\).

\end{proposition}

\begin{proof}
	任意矩阵这个前提太一般了，我们不妨先从对角矩阵 \( \Lambda:=\mathrm{diag}\{1,2,\cdots,n\} \) 开始，考虑 \( A\Lambda=\Lambda A \) 并记 \( A=(a_{ij}) \)，那么
	\[ \begin{bmatrix}
		a_{11} & 2a_{12} & \cdots & na_{1n} \\
		a_{21} & 2a_{22} & \cdots & na_{2n} \\
		\vdots & \vdots & \ddots & \vdots \\
		a_{n1} & 2a_{n2} & \cdots & na_{nn}
	\end{bmatrix}=\begin{bmatrix}
		a_{11} & a_{12} & \cdots & a_{1n} \\
		2a_{21} & 2a_{22} & \cdots & 2a_{2n} \\
	    \vdots & \vdots & \ddots & \vdots \\
	    na_{n1} & na_{n2} & \cdots & na_{nn}
	\end{bmatrix}. \]
	
	由于 \( i \neq j \) 时有 \( ia_{ij}=ja_{ij} \leadsto a_{ij}=0 \). 说明此时 \( A \) 只能为对角矩阵. (你也可以使用倍法矩阵 \( E(i(2)) \) 得到这一点.) 再考察消法矩阵 \( E(i,j(2)) \)，根据“左行右列，由近及远”原则，有
	\[ E(i,j(2))A= \bordermatrix{
		& & & \textbf{\(i\)} & & \textbf{\(j\)} & & \cr
		& a_{11} & & & & & &  \cr
		& & \ddots & & & & &  \cr
		\textbf{\(i\)}	& & & a_{ii} & \cdots & a_{ii}+2a_{jj} & &  \cr
		& & & & \ddots & \vdots & &  \cr
		\textbf{\(j\)}	& & & & & a_{jj} & &  \cr
		& & & & & & \ddots  &  \cr
		& & & & & & & a_{nn} \cr
	}= \bordermatrix{
	& & & \textbf{\(i\)} & & \textbf{\(j\)} & & \cr
	& a_{11} & & & & & &  \cr
	& & \ddots & & & & &  \cr
	\textbf{\(i\)}	& & & a_{ii} & \cdots & 2a_{ii}+a_{jj} & &  \cr
	& & & & \ddots & \vdots & &  \cr
	\textbf{\(j\)}	& & & & & a_{jj} & &  \cr
	& & & & & & \ddots  &  \cr
	& & & & & & & a_{nn} \cr
	}=AE(i,j(2)). \]
	
	容易得到 \( a_{ii}=a_{jj} \)，由 \( i,j \) 的任意性，即证.
\end{proof}

\begin{corollary}
	和任意上三角矩阵或者初等矩阵乘法可交换的必定为数量矩阵 \( cE_n  \ (c \in \F) \).
\end{corollary}

\begin{proof}
	注意到在命题 \ref{1.3.20} 中所用矩阵可以都选取为上三角矩阵或者初等矩阵即可.
\end{proof}


\subsubsection{矩阵的转置和迹}

下面介绍一种特殊的矩阵运算，转置. 相比于矩阵乘法可以看成线性替换的复合或者线性映射的合成，转置的几何意义需要从对偶空间和对偶映射来解释. 这一点，我们需要在本学期的中后段来探究. 不过还好，转置的定义是很简单的，十分容易接受，我们在前面的行文中也已经多次使用这一记号了.

\begin{definition}[转置]
    定义数域 \( \F \) 上 \( m \times n \) 矩阵 \( A=(a_{ij}) \) 的转置为 \( n \times m \) 矩阵 \( A\T:=(a_{ji}) \). 即矩阵 \( A\T \) 的 \( (i,j) \) 元为矩阵 \( A \) 的 \( (j,i) \) 元.
\end{definition}

\begin{property}[转置的运算律]
	给定数域 \( \F \) 上 \( m \times n \) 矩阵 \( A=(a_{ij}) \) 以及 \( n \times t \) 矩阵 \( B=(b_{ij}) \)，那么
	\begin{enumerate}[(1)]
		\item (对合) \( (A\T)\T=A \);
		\item (和加法运算相容) \( (aA+bB)\T=aA\T+bB\T \);
		\item \( (AB)\T=B\T A\T \);
		\item 给定一列矩阵 \( \{A_k\}_{1 \leq k \leq n} \)，并保证矩阵乘法 \( A_1A_2\cdots A_n \) 有意义，那么 \( (A_1A_2\cdots A_n)\T=A_n\T A_{n-1}\T\cdots A_1\T \).
	\end{enumerate} 
\end{property}

\begin{proof}
	(1)(2) 显而易见. 对合性质指的是对某种映射 \( \varphi \)，有 \( \varphi^2=\mathrm{id} \) 恒等映射. 注意到 (4) 可以直接反复利用性质 (3) 和矩阵乘法的结合律证得，即
	\[ (A_1A_2\cdots A_n)\T=[(A_1A_2\cdots A_{n-1})A_n]\T=A_n\T(A_1A_2\cdots A_{n-1})\T=\cdots=A_n\T A_{n-1}\T\cdots A_1\T. \]
	下面证明 (3). 设 \( (AB)\T \) 的 \( (i,j) \) 元为 \( p_{ij} \); \( B\T A\T \) 的 \( (i,j) \) 元为 \( q_{ij} \)，那么
	\[ p_{ij}=\sum_{k=1}^{n} a_{jk}b_{ki}. \]
	
	注意到 \( B\T \) 和 \( A\T\) 的 \( (i,j) \) 元分别为 \( b_{ji}, \; a_{ji} \)，由矩阵乘法的定义
	\[ q_{ij}=\sum_{k=1}^{n} (B\T \text{的 \( (i,k) \) 元}) \times (A\T \text{的 \( (k,j) \) 元})=\sum_{k=1}^{n} b_{ki}a_{jk}=p_{ij}.  \]
\end{proof}

\begin{definition}[对称和反对称]
	设 \( \F \) 为数域，若 \( A \in \F^{n \times n} \) 满足 \( A\T=A \)，那么称 \( A \) 为 \( \F \) 上的对称矩阵; 若 \( A\T=-A \)，则称 \( A \) 为 \( \F \) 上的反对称矩阵.
\end{definition}

\begin{remark}
	反对称矩阵的对角线元全为 0. 既是对称矩阵又是反对称矩阵的矩阵必定为零矩阵.
\end{remark}

\begin{proposition}	\label{1.3.26}
	设 \( \F \) 为数域，给定 \( A \in \F^{n \times n} \)，那么 \( A \) 可以\textbf{唯一}表示为一个对称矩阵和一个反对称矩阵的和.

\end{proposition}

\begin{proof}
	注意到
	\[ A=\frac{A+A\T}{2}+\frac{A-A\T}{2}:=A_1+A_2. \]
	
	其中 \( A_1 \) 为对称矩阵，\( A_2 \) 为反称矩阵，这就完成了构造. 另一方面，若还有 \( B_1 \) 为对称矩阵，\( B_2 \) 为反称矩阵满足 \( A=A_1+A_2=B_1+B_2 \). 那么 \( A_1-A_2=B_2-B_1 \). 等式左端为对称矩阵，右端为反对称矩阵，那么只能为零矩阵. 唯一性得证.
\end{proof}



下面这个命题我们会在高等代数 II 课程的尾声再次使用到，用来刻画双线性函数由其在取定一组基下的度量矩阵唯一确定. 到时候我们会引用本命题. 不过现在谈起这一点似乎有点为时过早，笔者希望在前面多铺垫一些内容. 本段可以忽略.

\begin{proposition}	\label{1.3.27}
	设 \( \F \) 为数域，给定 \( A \in \F\n \)，证明 \( A=O \) 的充要条件为对任意的列向量 \( X \in \F^n\) 都有 \( X\T AX=0 \).

\end{proposition} 

\begin{proof}
	必要性是显然的. 下证充分性. 首先，如果你选取 \( X=\varepsilon_i \)，利用性质 \ref{1.3.14} (3) 轻而易举得到 \( A \) 的对角元已然全为零. 这时候令 \( X=\varepsilon_i+\varepsilon_j \ (i \neq j) \) 带入只剩下 
	\[ \varepsilon_i\T A \varepsilon_j+\varepsilon_j\T A \varepsilon_i= a_{ij}+a_{ji}=2a_{ij}=0. \]
	
	因为我们这里选取的是数域 \( \mathbb{F} \)，那么 \( 2 \neq 0 \) ! 于是得到 \( a_{ij}=0 \leadsto A=O \).
\end{proof}

\begin{corollary}
	在命题 \ref{1.3.27} 中，若 \( A \in \mathbb{Z}_2^{n \times n} \)，那么对任意的列向量 \( X \in \mathbb{Z}_2^n\) 都有 \( X\T AX=0 \) 未必能推出 \( A=O \). 例如选取 \( n=2 \),
	\[ A=\begin{bmatrix}
		[0] & [1] \\ [1] & [0]
	\end{bmatrix}. \]
	
	那么任取 \( X=([a],[b])\T \in \mathbb{Z}_2^n \) 有
	\[ X\T AX=[ab](\varepsilon_i\T A \varepsilon_j+\varepsilon_j\T A \varepsilon_i)=[ab](\varepsilon_i\T A \varepsilon_j+(\varepsilon_i\T A \varepsilon_j)\T)=[2][ab]\varepsilon_i\T A \varepsilon_j=[0]. \]
\end{corollary}

事实上，在后续双线性函数的讨论中，我们也仅考虑 \( \tz \F \neq 2 \). 下面将命题 \ref{1.3.27} 推广到反对称矩阵上.

\begin{proposition}
	设 \( \F \) 为数域，给定 \( A \in \F\n \)，证明 \( A \) 是反对称矩阵的充要条件为对任意 \( X \in \F^n \) 都有 \( X\T A X= 0 \).
\end{proposition}

\begin{proof}
	必要性，由 \( (X\T AX)\T= -X\T AX \) 推知 \( 2(X\T AX)=0 \). 又 \( \F \) 为数域，那么 \( 2 \neq 0 \). 故 \( X\T AX=0 \).
	
	充分性，用命题 \ref{1.3.26}，采用相同的记号 \( A_1,A_2 \)，其中 \( A_1 \) 为对称矩阵，\( A_2 \) 为反称矩阵且 \( A=A_1+A_2\). 那么由命题 \ref{1.3.27} 和本命题的必要性可知 \( X\T A X=X\T A_1 X+X\T A_2 X= X\T A_1 X=0 \Rightarrow A_1=O \). 故 \( A=A_2 \) 为反对称矩阵.
\end{proof}



我们知道，矩阵乘法通常不具备交换性. 但是有某些量在交换中保持一致，下面的迹算子就是一种. 这在某种程度上是很有用的，例如处理 \( \alpha\beta\T \) 这是一个列向量和行向量的乘积，为一个矩阵，但是交换后 \( \alpha\T\beta \) 就变成一个数了. 我们未来要学习的降阶公式就是一个类似的例子.

\begin{definition}[矩阵的迹]
	设 \( A=(a_{ij}) \in \F\n \)，称矩阵 \( A \) 主对角线上元素之和为矩阵 \( A \) 的迹，并记为 \( \tr(A) \). 换言之，
	\[ \tr(A)=\sum_{i=1}^{n} a_{ii}. \]
\end{definition}

\begin{property}[迹的性质]
	设 \( A=(a_{ij}) \in \F^{m \times n}, \; B=(b_{ij}) \in \F^{n \times m} \)，那么
	\begin{enumerate}[(1)]
		\item 若 \( m=n \)，那么 \( \tr(A+B)=\tr(A)+\tr(B), \; \tr(A\T)=\tr(A), \; \tr(kA)=k\tr(A) \ (k \in \F) \);
		\item (乘积交换不变性) \( \tr(AB)=\tr(BA) \);
		\item (正定性 I) 取 \( \F=\mathbb{R} \)，那么 \( \tr(AA\T) \geq 0 \) 且 \( \tr(AA\T)=0 \Leftrightarrow \tr(A\T A)=0 \Leftrightarrow A=O \);
		\item (正定性 II) 取 \( \F=\mathbb{C} \)，那么  \( \tr(AA\Her) \geq 0 \) 且  \( \tr(AA\Her)=0 \Leftrightarrow \tr(A\Her A)=0 \Leftrightarrow A=O \)，其中 \( A\Her= \overline{A}\T \).
	\end{enumerate}
\end{property}

\begin{proof}
	(1) 用定义直接得到. 对 (2). 注意到下式可以交换求和次序即可
	\[ \tr(AB)=\sum_{i=1}^{m} \left( \sum_{k=1}^{n} a_{ik}b_{ki} \right)= \sum_{i=1}^{n} \left( \sum_{k=1}^{m} b_{ik}a_{ki} \right). \]
	
	(3) \( \tr(AA\T)=0 \Leftrightarrow \tr(A\T A)=0 \) 用 (2) 即可. 也就是
	\[ \tr(AA\T)=\tr(A\T A)= \sum_{i=1}^{m} \left( \sum_{k=1}^{n} a_{ik}a_{ik} \right)= \sum_{i=1}^{m}\sum_{k=1}^{n} a_{ik}^2 \geq 0. \]
	
	由于 \( a_{ik} \in \mathbb{R} \)，那么上式取等当且仅当 \( A=O \).
	
	(4) \( \tr(AA\Her)=0 \Leftrightarrow \tr(A\Her A)=0 \) 用 (2) 即可. 也就是
	\[ \tr(AA\Her)=\tr(A\Her A)= \sum_{i=1}^{m} \left( \sum_{k=1}^{n} a_{ik}\overline{a_{ik}} \right)= \sum_{i=1}^{m}\sum_{k=1}^{n} |a_{ik}|^2 \geq 0. \]
	
	由于复数 \( a_{ik} \) 满足 \( |a_{ik}| \in \mathbb{R} \) 且 \( |a_{ik}|^2=0 \Leftrightarrow a_{ik}=0 \). 即证. 
\end{proof}


\begin{remark}
	对 \( \F=\mathbb{C} \)，注意 (3) 一般不成立，由于 \( i^2+1=0 \). 这可以构造很多反例. 所以对于复矩阵而言，我们往往采用 Hermitian 转置，也就是 \( A^H \).
\end{remark}

\begin{proposition}
	证明：不存在非零矩阵 \( C \in \C\nm \) 以及 \( A,B \in \C\n \) 使得 \( AB-BA=CC\Her \). 
\end{proposition}

\begin{proof}
	注意到 \( \tr(UU\Her)=\tr(AB)-\tr(BA)=0 \Leftrightarrow U=O \). 推出矛盾.
\end{proof}

\begin{corollary}
   不存在非零常数 \( c \in \F \) 使得存在矩阵  \( A,B \in \F\n \) 满足 \( AB-BA=cE_n \).
\end{corollary}

\begin{proof}
	注意到 \( \tr(cE_n)=\tr(AB)-\tr(BA)=0 \neq cn \). 推出矛盾.
\end{proof}


\begin{proposition}
	设 \( A \in \R\n \) 为实反对称矩阵，若存在 \( B \in \R\n \) 使得 \( AB=B \)，那么必定有 \( B=O \). 类似地，若 \( A \in \C\n \) 为 Anti-Hermitian 矩阵，即 \( A\Her=-A \)，若存在 \( B \in \C\n \) 使得 \( AB=B \)，那么必定有 \( B=O \) 
\end{proposition}

\begin{proof}
	原式两边同乘 \( B\T \) 或者 \( B\Her \). 注意到 \( (B\T AB)\T=-(B\T AB) \) 以及 \( (B\Her AB)\Her=-(B\Her AB) \). 利用迹的正定性得到结论，具体细节留给读者. 
\end{proof}



最后我们给出迹的公理化刻画. 

\begin{theorem}
	设 \( f: \F\n \to \F \) 满足对任意的 \( A,B \in \F\n \) 有
	\begin{enumerate}[(1)]
		\item \( f(AB)=f(BA) \);
		\item (线性性) \( f(k_1A+k_2B)=k_1f(A)+k_2f(B) \ (k_1,k_2 \in \F) \);
		\item \( f(E_n)=n \).
	\end{enumerate}
	
	那么 \( f(\cdot)=\tr(\cdot) \).
\end{theorem}

\begin{proof}
	注意到任意矩阵可以分解为
	\[ A=\sum_{i=1}^{n}\sum_{j=1}^{n} a_{ij}E_{ij}, \]
	
	那么我们只需要验证 \( f(E_{ij})=\delta_{ij} \)，然后利用 \( f \) 的线性性质即可. 用性质 \ref{1.3.16} (1)，有 \( E_{ij}E_{ji}=E_{ii}, \; E_{ji}E_{ij}=E_{jj} \). 带入条件 (1) 说明 \( f(E_{ii})=f(E_{jj}) \). 利用线性性拆开条件 (3) 
	\[ f(E_n)=f(E_{11})+f(E_{22})+\cdots+f(E_{nn})= nf(E_{ii})=n \leadsto f(E_{ii})=\delta_{ii}. \; \checkmark \]
	再看 \( f(E_{ij}) \ (i \neq j) \). 还是用性质 \ref{1.3.16} (1)，\( E_{ik}E_{kj}=E_{ij}, \; E_{kj}E_{ik}=O \). 然而 \( f(O)=f(O+O)=f(O)+f(O) \) 蕴含 \( f(O)=0 \). 这说明 \( f(E_{ij})=0=\delta_{ij} \). 证毕.
\end{proof}

\subsection{高阶矩阵运算: 分块矩阵}

本节的最后一个主题是分块矩阵的运算. 对于高阶矩阵来说，直接按定义进行矩阵乘积每个元素的计算工作量是很庞大的，对于一些零元素比较多的矩阵，完全没必要这么复杂的计算，可以进行适当分块. 另一方面，性质 \ref{1.3.14} 也提醒我们如果能将矩阵分块为列向量或者行向量，那么有时候分块运算会比较轻松，能直接得到一整行或者一整列的元素.

从几何上来说，分块矩阵和后续线性空间的直和分解是密不可分的，都体现了一种化大为小的思想. 而在本书的最后，你会看到分块对角阵这一形式让线性空间的直和分解带上了一些线性变换的结构. 

分块矩阵的加法是平凡的，无非就是需要两种分块完全一致. 分块矩阵的转置运算需要小心，以二阶矩阵为例，
\[ \begin{bmatrix}
	A_{11} & A_{12} \\
	A_{21} & A_{22}
\end{bmatrix}\T=\begin{bmatrix}
A_{11}\T & A_{21}\T \\
A_{12}\T & A_{22}\T
\end{bmatrix}. \]

不仅 \( A_{12} \) 和 \( A_{21} \) 需要交换位置，而且每个矩阵元素都要转置. 下面着重讨论分块矩阵的乘法. 这一点从直观上来看，有点难以验证. 给定 \( m \times n \) 矩阵 \( A \) 和 \( n \times l \) 矩阵 \( B \) 矩阵的一种分块形式，并保证小矩阵之间的乘法是有意义的.

\[ A=\begin{pNiceMatrix}[first-col=1,first-row=1]
	& n_1 & n_2 & \cdots  & n_s \\
	m_1 & A_{11} & A_{12}& \cdots  & A_{1s} \\
	m_2 & A_{21} & A_{22} & \cdots & A_{2s} \\
	 & \vdots & \vdots & \ddots  & \vdots  \\
	m_r & A_{r1} & A_{r2} & \cdots  & A_{rs}  \\
	\CodeAfter
	\tikz \node at ($(4-1)+(-0.82cm,0.68cm)$) {\vdots};
\end{pNiceMatrix}, \; B=\begin{pNiceMatrix}[first-col=1,first-row=1]
& l_1 & l_2 & \cdots  & l_t \\
n_1 & B_{11} & B_{12}& \cdots  & B_{1t} \\
n_2 & B_{21} & B_{22} & \cdots & B_{2t} \\
 & \vdots & \vdots & \ddots  & \vdots  \\
n_s & B_{s1} & B_{s2} & \cdots  & B_{st}  \\
\CodeAfter
\tikz \node at ($(4-1)+(-0.79cm,0.68cm)$) {\vdots};
\end{pNiceMatrix}. \]

其中 \( m_1+\cdots+m_r=m, \; n_1+\cdots+n_s=n, \; l_1+\cdots+l_t=l \).

\begin{theorem}
	如上两个分块矩阵的乘积可以表示为
	\[ C= \; \begin{pNiceMatrix}[first-col=1,first-row=1]
		\CodeBefore
		\tikz \draw [fill=red!15, draw=none] (5-|5) -- (5-|6) -- (6-|6) -- (6-|5) -- cycle;
		\tikz \draw [fill=blue!15, draw=none] ($(1-|1)+(-1.02cm,0)$) -- ($(1-|2)+(-1.32cm,0)$) -- ($(6-|2)+(-1.32cm,0)$) -- ($(6-|1)+(-1.02cm,0)$) -- cycle;
		\tikz \draw [fill=green!15, draw=none] (1-|1) -- ($(1-|1)+(0,0.7cm)$) -- ($(1-|6)+(0,0.7cm)$) -- (1-|6) --cycle;
		\Body
		 & l_1 & l_2 & \cdots & l_{k-1} & l_k & l_{k+1} & \cdots & l_t \\
		m_1 & C_{11} & C_{12}& \cdots & C_{1,k-1} & C_{1k} & C_{1,k+1} & \cdots  & C_{1t} \\
		m_2 & C_{21} & C_{22} & \cdots  & C_{1,k-1} & C_{1k} & C_{1,k+1} & \cdots  & C_{2t} \\
		 & \vdots & \vdots & \ddots & \vdots & \vdots & \vdots & \ddots & \vdots  \\
		 m_{h-1} & C_{h-1,1} & C_{h-1,2} & \cdots  & C_{h-1,k-1} & C_{h-1,k} & C_{h-1,k+1} & \cdots  & C_{h-1,t} \\
		 m_h & C_{h1} & C_{h2} & \cdots  & C_{h,k-1} & C_{hk} & C_{h,k+1} & \cdots  & C_{ht} \\
		 m_{h+1} & C_{h+1,1} & C_{h+1,2} & \cdots  & C_{h+1,k-1} & C_{h+1,k} & C_{h+1,k+1} & \cdots  & C_{h+1,t} \\
		 & \vdots & \vdots  & \ddots & \vdots & \vdots & \vdots & \ddots  & \vdots  \\
		m_r & C_{r1} & C_{r2} & \cdots  & C_{r,k-1} & C_{rk} & C_{r,k+1} & \cdots  & C_{rt}  \\
		\CodeAfter
		\tikz \node at ($(4-1)+(-1.02cm,0.68cm)$) {\vdots};
		\tikz \node at ($(8-1)+(-1.02cm,0.68cm)$) {\vdots};
	\end{pNiceMatrix}. \]
	
	其中 \( C_{ij}=A_{i1}B_{1j}+\cdots+A_{is}B_{sj} \). 那么 \( AB=C \). 也就是按元素定义的乘积完全等价于分块矩阵定义的乘积.
\end{theorem}

\begin{proof}
	设 \( A=(a_{ij}), \; B=(b_{ij}) \). 按定义 \ref{1.3.1} 所定义的矩阵乘法，给出 \( AB \) 的 \( (p,q) \) 元为
	\[ (AB)_{pq}= \sum_{k=1}^{n} a_{pk}b_{kq}= (a_{p1}b_{1q}+\cdots+a_{p,n_1}b_{n_1,q})+(a_{p,n_1+1}b_{n_1+1,q}+\cdots)+\cdots+(\cdots+a_{pn}b_{nq}):=I_1+\cdots+I_s. \]
	
	为了研究分块矩阵，我们首先要研究在 \( C \) 中 \( (p,q) \) 元究竟落在哪个分块中，显然可以设
	\[ p=m_1+\cdots+m_{h-1}+u, q=l_1+\cdots+l_{k-1}+v. \]
	
	其中 \( 1 \leq u \leq m_h, \; 1 \leq v \leq l_k \). 那么 \( C \) 的 \( (p,q) \) 元就是 \( C_{hk} \) 的 \( (u,v) \) 元. 那么就是 \( A_{h1}B_{1k}+\cdots+A_{hs}B_{sk} \) 的 \( (u,v) \) 元. 我们只研究 \( A_{h1}B_{1k} \) 的 \( (u,v) \) 元. 用矩阵乘法的定义
	\[ A_{h1}B_{1k}= \sum_{x=1}^{n_1} \text{\( A_{h1}\) 的 \( (u,x) \) 元} \times \text{\( B_{1k}\) 的 \( (x,v) \) 元}=\sum_{x=1}^{n_1} \text{\( A\) 的 \( (p,x) \) 元} \times \text{\( B\) 的 \( (x,q) \) 元}=a_{p1}b_{1q}+\cdots+a_{p,n_1}b_{n_1,q}! \]
	
	那么同上可以证 \( A_{hx}B_{xk} \) 的 \( (u,v) \) 元就是 \( I_x \ (1 \leq x \leq s) \). 于是得到 \( (AB)_{pq}=C_{pq} \). 这就证明了结论.
\end{proof}

我们下面推广定义 \ref{1.3.3}，以二阶矩阵为例，讨论分块初等矩阵和分块初等变换. 我们暂时忽略倍法矩阵，因为我们暂时还不知道数域中的一个数 \( c \neq 0 \) 如何推广到矩阵上. 换言之，轻易地将 \( c \) 推广为一个任意的矩阵 \( C \in \F\n \) 会导致这种分块初等变换失去保持线性方程组同解性的特点，我们留到 \S 2 中讨论.

\begin{definition}[二阶分块初等变换]
	\begin{enumerate}[(A)]
		\item 消法变换，其中 \( C \) 为任意矩阵，
		\[ \bordermatrix{
			& m_1 & m_2 \cr
			m_1 & E_{m_1} & C \cr
			m_2 & O & E_{m_2}
		}\bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & A_{12} \cr
			m_2 & A_{21} & A_{22}
		}= \bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11}+CA_{21} & A_{12}+CA_{22} \cr
			m_2 & A_{21} & A_{22}
		}, \]
		\[ \bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & A_{12} \cr
			m_2 & A_{21} & A_{22}
		}\bordermatrix{
			& n_1 & n_2 \cr
			n_1 & E_{n_1} & C \cr
			n_2 & O & E_{n_2}
		}= \bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & A_{12}+CA_{11} \cr
			m_2 & A_{21} & A_{22}+CA_{21}
		}, \]
		
		\item 倍法变换，对矩阵 \( C \) 的额外要求，类比 \( c \in \F \) 非零，猜测 \( C \) 为全矩阵环中的可逆元? 类比定义存在矩阵 \( C^{-1} \) 使得 \( C^{-1}C=CC^{-1}=E\).
		\[ \bordermatrix{
			& m_1 & m_2 \cr
			m_1 & E_{m_1} & O  \cr
			m_2 & O & C
		}\bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & A_{12} \cr
			m_2 & A_{21} & A_{22}
		}= \bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11}+CA_{21} & A_{12}+CA_{22} \cr
			m_2 & A_{21} & A_{22}
		}, \]
		\[ \bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & A_{12} \cr
			m_2 & A_{21} & A_{22}
		}\bordermatrix{
		& n_1 & n_2 \cr
		n_1 & E_{n_1} & O  \cr
		n_2 & O & C
		}= \bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & CA_{12} \cr
			m_2 & A_{21} & CA_{22}
		}, \]
		
		\item 互换变换，
		\[ \bordermatrix{
			& m_1 & m_2 \cr
			{\color{red} m_2} & O & E_{m_2} \cr
			{\color{red} m_1} & E_{m_1} & O
		}\bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & A_{12} \cr
			m_2 & A_{21} & A_{22}
		}= \bordermatrix{
			& n_1 & n_2 \cr
			{\color{red} m_2} & A_{21} & A_{22} \cr
			{\color{red} m_1} & A_{11} & A_{12}
		}, \]
		\[ \bordermatrix{
			& n_1 & n_2 \cr
			m_1 & A_{11} & A_{12} \cr
			m_2 & A_{21} & A_{22}
		} \bordermatrix{
		& {\color{red} n_2} & {\color{red} n_1} \cr
		n_1 & O & E_{n_1} \cr
		n_2 & E_{n_2} & O
		}= \bordermatrix{
			& {\color{red} n_2} & {\color{red} n_1} \cr
			m_1 & A_{12} & A_{11} \cr
			m_2 & A_{22} & A_{21}
		}. \]
	\end{enumerate}

\end{definition}


\begin{remark}
	如果想说明上述定义的分块\textcolor{red}{行}初等变换应用在线性方程组的增广矩阵上依然有保持同解的效果，只需要说明存在对应的逆操作即可. 
	\[ \bordermatrix{
		& m_1 & m_2 \cr
		m_1 & E_{m_1} & -C \cr
		m_2 & O & E_{m_2}
	}\bordermatrix{
		& m_1 & m_2 \cr
		m_1 & E_{m_1} & C \cr
		m_2 & O & E_{m_2}
	}=\bordermatrix{
	& m_1 & m_2 \cr
	m_1 & E_{m_1} & O \cr
	m_2 & O & E_{m_2}
	}, \]
	\[ \bordermatrix{
		& m_1 & m_2 \cr
		m_1 & E_{m_1} & O  \cr
		m_2 & O & C^{-1}
	}\bordermatrix{
		& m_1 & m_2 \cr
		m_1 & E_{m_1} & O  \cr
		m_2 & O & C
	}=\bordermatrix{
	& m_1 & m_2 \cr
	m_1 & E_{m_1} & O  \cr
	m_2 & O & E_{m_2}
	},\]
	\[ \bordermatrix{
		& m_2 & m_1 \cr
		m_1 & O & E_{m_1} \cr
		m_2 & E_{m_2} & O
	}\bordermatrix{
		& m_1 & m_2 \cr
		m_2 & O & E_{m_2} \cr
		m_1 & E_{m_1} & O
	}=\bordermatrix{
	& m_1 & m_2 \cr
	m_1 & E_{m_1} & O \cr
	m_2 & O & E_{m_2}
	}. \]
	
	我们知道左乘初等矩阵就对应一种初等变换，也就是对应一种逆操作，得到的结果是单位阵，相当于恒等变换. 完美符合预期.
\end{remark}

\begin{example} \label{1.4.4}
	求
	\[ A^n=\begin{bmatrix}
		\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}^n. \]
\end{example}

\begin{solution}
	(\textbf{法一}) \ 这是互换变换对应的二阶分块初等矩阵. 求 \( n \) 次幂相当于对下列矩阵
	\[ \begin{bmatrix}
		\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}=\begin{bmatrix}
		 & 1  & & & \\
		 &  & 1 & & \\
		 &  & & 1 & \\
		 &  & & & 1 \\
		 1 & & & & 
	\end{bmatrix} \]
	
	左乘初等矩阵，进行行初等变换，也即进行 \( n-1 \) 次后四行作为整体和第一行的互换变换. 那么
	\[ \begin{bmatrix}
		\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}^2=\begin{bmatrix}
     &  & 1 & & \\
     &  & & 1 & \\
     &  & & & 1 \\
     1 & & & & \\
     & 1  & & & 
	\end{bmatrix}, \; \begin{bmatrix}
	\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}^3=\begin{bmatrix}
	&  & & 1 & \\
	&  & & & 1 \\
	1 & & & & \\
	& 1  & & & \\
	&  & 1 & & 
	\end{bmatrix}, \; \begin{bmatrix}
	\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}^4=\begin{bmatrix}
	&  & & & 1 \\
	1 & & & & \\
	& 1  & & & \\
	&  & 1 & & \\
	&  & & 1 & 
	\end{bmatrix}. \]
	
	那么
	\[ \begin{bmatrix}
		\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}^5=\begin{bmatrix}

	1 & & & & \\
	& 1  & & & \\
	&  & 1 & & \\
	&  & & 1 & \\
	&  & & & 1 
	\end{bmatrix}=E_5! \]
	
	接下来进入循环，于是乎，
	\[ \begin{bmatrix}
		\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}^{5k+p}= \begin{bmatrix}
	O & E_{5-p} \\ E_p & O
	\end{bmatrix}, \; k,p \in \mathbb{N}, \; 0 \leq p \leq 4. \]
	
	这种方法等价于将原矩阵按行分块处理，设 \( A=(\varepsilon_2\T,\varepsilon_3\T,\varepsilon_4\T,\varepsilon_5\T,\varepsilon_1\T)\T \). 那么
	\[ A^2=AA= \begin{bmatrix}
		\varepsilon_2\T \\[1ex] \varepsilon_3\T \\[1ex] \varepsilon_4\T \\[1ex] \varepsilon_5\T \\[1ex] \varepsilon_1\T
	\end{bmatrix}A=\begin{bmatrix}
	\varepsilon_2\T A \\[1ex] \varepsilon_3\T A \\[1ex] \varepsilon_4\T A \\[1ex] \varepsilon_5\T A \\[1ex] \varepsilon_1\T A
	\end{bmatrix}=\begin{bmatrix}
	A \text{第 2 行} \\ A \text{第 3 行} \\ A \text{第 4 行} \\ A \text{第 5 行} \\ A \text{第 1 行}
	\end{bmatrix}.  \] 
	
	这和将后四行作为整体和第一行的互换变换没有任何区别.
	
	\vspace{1ex}
	
	(\textbf{法二}) \ 求 \( n \) 次幂相当于对下列矩阵
	\[ \begin{bmatrix}
		\bm{0} & E_4 \\ 1 & \bm{0}
	\end{bmatrix}=\begin{bmatrix}
		& 1  & & & \\
		&  & 1 & & \\
		&  & & 1 & \\
		&  & & & 1 \\
		1 & & & & 
	\end{bmatrix} \]
	
	右乘初等矩阵，进行列初等变换，也即进行 \( n-1 \) 次前四列作为整体和最后一列的互换变换. 那么完全同上计算. 这种方法等价于按列分块处理，记原矩阵为 \( A=(\varepsilon_5,\varepsilon_1,\varepsilon_2,\varepsilon_3,\varepsilon_4) \). 那么 \( A^2 \) 从左到右分别是 \( A \) 的第 5 列，第 1 列，第 2 列，第 3 列，第 4 列. 也即 \( A^2=(\varepsilon_4,\varepsilon_5,\varepsilon_1,\varepsilon_2,\varepsilon_3) \). 以此类推. 
	
	\vspace{1ex}
	
	\fbox{\parbox{9cm}{\textbf{警惕!} \ 这个矩阵不可以直接作分块矩阵的乘法，因为
	\[ \bordermatrix{
		& {\color{blue}1} & {\color{red}4} \cr
		4 & \bm{0} & E_4    \cr
		1 & 1 & \bm{0}
	} \bordermatrix{
	& 1 & 4 \cr
	{\color{blue} 4} & \bm{0} & E_4  \cr
	{\color{red} 1} & 1 & \bm{0}
	}
	\]
	
	这样的矩阵乘法没有意义!  注意 \( {\color{blue}1} \neq {\color{blue} 4} \) 以及 \( {\color{red}4} \neq {\color{red} 1} \).}}
\end{solution}

我们可以推广例 \ref{1.4.4} 至下面的例题.

\begin{example}
    设 \( A \in \F\n \)，\( A \) 的每一行每一列都仅有一个元素非零，且为 \( \pm 1 \). 证明: 存在正整数 \( k \) 使得 \( A^k=E \).	
\end{example}

\begin{proof}
	(\textbf{法一})\ 考虑 \( A=(p_1\varepsilon_{i_1}, p_2 \varepsilon_{i_2},\cdots, p_n \varepsilon_{i_n}) \)，其中 \( (i_1,\cdots,i_n) \) 为 \( (1,\cdots,n) \) 的一个排列，\( p_1,\cdots,p_n \in \{-1,1\} \). 定义 \( \sigma: \{1,\cdots,n\} \to \{1,\cdots,n\}, \; k \mapsto i_k \). 那么 
	\[ A^k=(p_1^k \varepsilon_{\sigma^k(1)}, \cdots, p_n^k \varepsilon_{\sigma^k(n)}). \]
	
	称形如 \( (j_1,\cdots,j_m) \) 的置换为一个长度为 \( m \) 的循环，其中 \( \{j_1,\cdots,j_m\} \subseteq \{1,\cdots,n\} \) 且两两不同. 它的作用是实现 \( j_1 \to j_2 \to \cdots \to j_m \to j_1 \) 的轮换，而保持 \( \{1,\cdots,n\}-\{j_1,\cdots,j_m\} \) 不动. 下面说明 \( \sigma \) 可以分解为若干无交置换的乘积. 
	
	取 \( 1 \to \sigma(1) \to \sigma^2(1) \to \cdots \to \sigma^k(1) \to \cdots \). 若 \( \sigma(1),\sigma^2(1),\cdots,\sigma^{k-1}(1),\sigma^k(1) \neq 1 \) 都成立，那么 \( \sigma(1),\sigma^2(1),\cdots,\sigma^{k-1}(1),\sigma^k(1) \) 必定两两不同，否则存在 \( \sigma^i(1)=\sigma^j(1) \ (i<j) \)，由于 \( \sigma \) 给出集合 \( \{1,\cdots,n\} \) 的双射，那么 \( \sigma^{j-i}(1)=1 \) 矛盾. 因为集合元素有限，那么首次出现 \( \sigma^k(1)=1 \) 的幂次 \( k \leq n+1 \). 
	
	如果 \( k=n+1 \)，那么 \(  \sigma \) 只能分解为一个无交循环，若 \( k<n+1 \)，那么取 
	\[ \ell \in \{1,2,\cdots,n\}-\{ \sigma(1),\sigma^2(1),\cdots,\sigma^{k-1}(1),1 \}, \]
	
	类似上面的讨论，得到循环 \( \ell \to \sigma(\ell) \to \cdots \to \sigma^{k'}(\ell)=\ell \). 
	
	断言 \( \{\sigma(1),\sigma^2(1),\cdots,\sigma^{k-1}(1),1 \} \cap \{ \sigma(\ell),\sigma^2(\ell),\cdots,\sigma^{k'-1}(\ell),\ell \}= \emptyset \). 否则，若存在 \( \sigma^{t_1}(1)=\sigma^{t_2}(\ell) \)，那么必定存在正整数 \( N \) 使得 \( t_1+Nk>t_2 \). 这意味着 \(  \sigma^{t_1+Nk}(1)=\sigma^{t_1}(1)=\sigma^{t_2}(\ell) \). 再由 \( \sigma \) 为单射，说明 
	\[ \sigma^{t_1-t_2+Nk}(1)=\ell \in \{ \sigma(1),\sigma^2(1),\cdots,\sigma^{k-1}(1),1 \}. \] 
	
	这与 \( \ell \) 的取法矛盾，依次类推，由于 \( \{1,\cdots,n\} \) 为有限集，那么上述过程必定在有限步终止. 
	
	设 \( \sigma=\tau_1\tau_2 \cdots \tau_s \) 为两两无交的循环分解，每个循环的长度为 \( m_1,\cdots,m_s \). 取 \( k_1=[m_1,\cdots,m_s] \) 为最小公倍数，那么 \( \sigma^{2k_1}=\sigma^{k_1}=\mathrm{id} \)，换言之 \( A^{2k_1}=(p_1^{2k_1}\varepsilon_1,\cdots,p_n^{2k_1}\varepsilon_n)=(\varepsilon_1,\cdots,\varepsilon_n)=E_n \).
	
	\vspace{1ex}
	
	(\textbf{法二})\ 这个证明需要可逆矩阵的知识. 设
	\[ G:=\{ A \in \F\n \mid A=(p_1\varepsilon_{i_1}, p_2 \varepsilon_{i_2},\cdots, p_n \varepsilon_{i_n}), \; (i_1,\cdots,i_n) \text{为 \( (1,\cdots,n) \) 的一个排列}, \; p_1,\cdots,p_n \in \{-1,1\} \}. \]
	
	任取 \( A \in G \) 都存在可逆矩阵 \( P,Q \in \F\n \)，使得
	\[ A=P\diag\{ E_r,-E_{n-r}\}Q=:PJQ. \]
	
	其中 \( P,Q \) 为若干互换矩阵的乘积，称为置换矩阵. 反之，能写成上述矩阵分解的也一定落在 \( G \) 内. 下面验证 \( G \) 对乘法封闭. 任取 \( A_1=P_1J_1Q_1, A_2=P_2J_2Q_2 \in G \)，那么
	
	\[ A_1A_2=(P_1J_1Q_1)(P_2J_2Q_2)=P_1Q_1(Q_1^{-1}J_1Q_1)(P_2J_2P_2^{-1})P_2Q_2. \]
	
    下面只需要断言 \( Q_1^{-1}J_1Q_1, \; P_2J_2P_2^{-1} \) 为主对角线元素全为 \( \pm 1 \) 的对角阵即可. 两者推理是类似的，只考虑其中之一. 不妨设 \( Q_1=E(j_1,j_2)E(j_3,j_4) \cdots E(j_{2s-1},j_{2s}) \)，其中 \( \{j_1,\cdots,j_{2s}\} \subseteq \{1,\cdots,n\} \) 且允许重复. 那么
	
	\begin{align*}
		Q_1^{-1}J_1Q_1 &=[E(j_{2s-1},j_{2s}) \cdots E(j_3,j_4)E(j_1,j_2)]J_1[E(j_1,j_2)E(j_3,j_4) \cdots E(j_{2s-1},j_{2s})], \\
		&=E(j_{2s-1},j_{2s}) \cdots [E(j_3,j_4)[E(j_1,j_2)J_1E(j_1,j_2)]E(j_3,j_4]) \cdots E(j_{2s-1},j_{2s}).
	\end{align*}
	
	注意到 \( E(j_1,j_2)J_1E(j_1,j_2) \) 就是将 \( J_1 \) 的 \( j_1, j_2 \) 行互换后，再将 \( j_1,j_2 \) 列互换，也就是直接将 \( J_1 \) 的 \( (j_1,j_1) \) 元和 \( (j_2,j_2) \) 元对换. 经过 \( s \) 次这样的操作后，\( P_2^{-1}J_1P_2 \) 只是将 \( J_1 \) 的对角元素进行了若干次互换，但还是主对角线元素全为 \( \pm 1 \) 的对角阵. 那么 \( (Q_1^{-1}J_1Q_1)(P_2J_2P_2^{-1}) \) 也就仍为对角阵. 那么就存在置换矩阵 \( P_3,Q_3 \)，和 \( J_3=\diag\{ E_t,-E_{n-t}\} \) 使得 \( (Q_1^{-1}J_1Q_1)(P_2J_2P_2^{-1})=P_3J_3Q_3 \). 进而 \( A_1A_2= (P_1Q_1P_3) J_3 (P_2Q_2Q_3) \in G \).
	
	另一方面，\( |G|=n \cdot n!< \infty \). 而乘法封闭性保证了 \( \{A,A^2,\cdots,A^k,\cdots\} \subseteq G \). 也就存在 \( k_1,k_2 \in \mathbb{N}^* \) 使得 \( A^{k_1}=A^{k_2} \). 不妨 \( k_1<k_2 \)，又 \( A \) 可逆，只能 \( A^{k_2-k_1}=E_n \). 事实上，这里 \( G \) 为 \( \text{GL}_n(\F) \) 的子群，但不是正规子群.
\end{proof}


\begin{example}
	求 Jordan 块 \( J(\lambda,n) \) 的 \( n \) 次幂，即
	\[ J^n(\lambda,n)=\begin{bmatrix}
		\lambda & 1 &  & & \\
		& \lambda & 1 & & \\
		& & \ddots & \ddots & \\
		& & & \lambda &1 \\
		& & & & \lambda
	\end{bmatrix}^n. \]
\end{example}

\begin{solution}
	先考虑 \( \lambda=0 \)，这时候称 \( J(0,n) \) 为幂零 Jordan 块. 它可以写成分块矩阵的形式
	\[ J(0,n)= \begin{bmatrix}
		\bm{0} & E_{n-1} \\ 0 & \bm{0}
	\end{bmatrix}=(0,\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_{n-1}). \]
	
	那么 \( J^2(0,n)=(0,0,\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_{n-2}),\cdots, J^k(0,n)=(0,0,\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_{n-k}) \ (k \leq n-1) \). 于是 \( J^{n-1}(0,n)=(O,\varepsilon_1) \leadsto J^{n}(0,n)=O \). 写成分块矩阵，即
	\[ J^k(0,n)= \begin{bmatrix}
		 & E_{n-k} \\ O_k & 
	\end{bmatrix}=(0,\varepsilon_1,\varepsilon_2,\cdots,\varepsilon_{n-k}). \ (1 \leq k \leq n-1)\]
	
	那么 \( J^n(\lambda,n)=[\lambda E+J(0,n)]^n \). 由于单位矩阵和任意矩阵可交换，那么应用二项式定理有
	\begin{align*}
		J^k(\lambda,n) &=\lambda^k E_n+ C_k^1\lambda^{k-1}J(0,n)+C_k^2\lambda^{k-2}J^2(0,n)+\cdots+C_k^k\lambda^0J^k(0,n), \\
		&=\lambda^k E_n+ k\lambda^{k-1}J(0,n)+\frac{1}{2!} k(k-1)\lambda^{k-2}J^2(0,n)+\cdots+\frac{1}{k!}k!\lambda^0J^k(0,n), \\
		&=\lambda^k E_n+ \frac{1}{1!}(\lambda^k)^{(1)}J(0,n)+\frac{1}{2!} (\lambda^k)^{(2)}J^2(0,n)+\cdots+\frac{1}{k!}(\lambda^k)^{(k)}J^k(0,n) \\[2ex]
		&= \begin{bmatrix}
			\lambda^k & (1/1!)(\lambda^k)^{(1)} & (1/2!)(\lambda^k)^{(2)} & \cdots & (1/n!)(\lambda^k)^{(n)} \\
			0 & \lambda^k & (1/1!)(\lambda^k)^{(1)} & \cdots &  (1/(n-1)!)(\lambda^k)^{(n-1)} \\
			0 & 0 & \ddots & \ddots &  \vdots \\
			0 & 0 & 0 & \cdots &  \lambda^k 
		\end{bmatrix}.
	\end{align*}
   
   这里对 \( k<n \) 是无伤大雅的，因为此时肯定有 \( (\lambda^k)^{(\ell)}=0 \ ( \ell>k) \).
\end{solution}

\begin{corollary}
	设 \( f(\lambda) \in \F[\lambda] \)，由于导数和加法与数乘相容，即 \( [cf(x)+g(x)]'=cf'(x)+g'(x) \)，于是
	\[ f[J(\lambda,n)]= \begin{bmatrix}
		f(\lambda) & (1/1!)f^{(1)}(\lambda) & (1/2!)f^{(2)}(\lambda) & \cdots & (1/n!)f^{(n)}(\lambda) \\
		0 & f(\lambda) & (1/1!)f^{(1)}(\lambda) & \cdots &  (1/(n-1)!)f^{(n-1)}(\lambda) \\
		0 & 0 & \ddots & \ddots &  \vdots \\
		0 & 0 & 0 & \cdots &  f(\lambda)
	\end{bmatrix}. \] 
\end{corollary}

\begin{corollary}
	存在 \( k \in \mathbb{N}^* \)，使得 \( J^k(0,n)=O \)，且满足该式的最小整数 \( k=n \). 一般我们称满足 \( A^n=O \) 且 \( A^{n-1} \neq O \) 的 \( n \) 阶矩阵称为 \( n \) 阶幂零矩阵. 命题 \ref{1.3.19} 描述的主对角线全为零的上三角矩阵就是一种 \( n \) 阶幂零矩阵. 这种矩阵将会是我们高等代数 I 研究的典型矩阵.
\end{corollary}

\S 1 节的最后一个命题可以看成命题 \ref{1.3.20} 的推广，从命题 \ref{1.3.20} 的证明中我们知道和任意主对角元全不相同的对角矩阵可交换的必定为对角矩阵. 那么什么时候和分块对角矩阵可交换的也必定为同型分块对角矩阵呢? 下面的命题给出了一种初步刻画.

\begin{proposition}
	设 \( A=\diag\{ a_1E_{r_1},a_2E_{r_2},\cdots,a_mE_{r_m}\} \)，其中 \( a_1,\cdots,a_m \) 两两不同. 证明：与 \( A \) 可交换的必定为同型分块对角矩阵 \( B=\diag\{B_{r_1},B_{r_2},\cdots,B_{r_m}\} \).
\end{proposition}

\begin{proof}
	将 \( B \) 按照 \( A \) 的分块模式分块为 \( B=(B_{ij})_{m \times m} \). 那么 \( AB=BA \Leftrightarrow a_iE_{r_i}B_{ij}=B_{ij}(a_jE_{r_j}) \) 成立. 又 \( a_i \neq a_j \ (i \neq j) \). 故只能 \( B_{ij}=O \ (i \neq j) \).
\end{proof}

\begin{corollary}	\label{1.4.10}
	设 \( A=\diag\{ A_1,A_2,\cdots,A_m\} \)，若对任意 \( i \neq j \) 都有矩阵方程 \( A_iX-XA_j=O \) 仅有零解，证明：与 \( A \) 可交换的必定为同型分块对角矩阵 \( B=\diag\{B_1,B_2,\cdots,B_m\} \).

\end{corollary}

\begin{proof}
	将 \( B \) 按照 \( A \) 的分块模式分块为 \( B=(B_{ij})_{m \times m} \). 那么 \( AB=BA \Leftrightarrow A_iB_{ij}=B_{ij}A_j  \) 成立. 又对任意 \( i \neq j \) 都有矩阵方程 \( A_iX-XA_j=O \) 仅有零解，故只能 \( B_{ij}=O \ (i \neq j) \).
\end{proof}



推论 \ref{1.4.10} 要求矩阵方程 \( A_iX-XA_j=O \) 仅有零解这个条件是很难验证的，我们要等到高等代数 II 才能给出一个它比较好验证的等价条件.

在 \S 1 我们主要研究了线性方程组有解的判定，解的算法以及初步刻画了解的结构. 在研究这一点的过程中，我们一方面引出了域的概念，并进而讨论了一种要求更低的代数结构 -- 环，认识了整环的特征；另一方面，从初等变换和线性替换出发，给出了矩阵乘法的概念，并研究了高阶矩阵的一种简便乘法运算方式: 分块矩阵运算. 如果说分块矩阵中每个矩阵都是 \( n \) 阶的，其实也可以将其看成矩阵环上的矩阵环，不过这一点，其实对理解知识没有很大帮助.

在分块初等变换的刻画中，我们遇到了一个问题，我们目前不知道在全矩阵环中非零元是否存在逆元，如果存在，那么该如何判定和刻画呢? 另一方面，我们虽然已经可以判定线性方程组是否有解，但是是否能进一步给出一个简洁的公式解呢? 有解的判定是否能够简化? 这些问题都能在 \textit{\S 2 可逆矩阵和行列式} 中得到一个比较圆满的回答. 

另外，我们通过简化行阶梯矩阵的非零行数目给出了矩阵的秩的概念，或许你会发现有所不足. 因为如下的两个矩阵
\[ \begin{bmatrix}
	1 & 0 \\ 0 & 0
\end{bmatrix}, \; \begin{bmatrix}
0 & 1 \\ 0 & 0
\end{bmatrix} \]

明显有相同的非零行数目，但是却并不能通过初等行变换互相得到. 这说明如果两个矩阵有相同的秩，那么不一定能通过初等行变换互相得到. 也就是秩相同是比能通过初等行变换互相得到更强的条件，为了探寻秩相同的充分必要条件，我们将会从行列式出发，在 \textit{\S 3 矩阵的秩和相抵标准型} 中给出另一种秩的刻画，最后会发现它和我们今天的定义是完全等价的. 
\end{document}
